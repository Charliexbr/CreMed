if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}function a(e,t){return"string"==typeof e?t:e}const o=(t=>(a,o=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,a,o)})("onLoad"),l=(e,t)=>{const a=e.__vccOpts||e;for(const[o,l]of t)a[o]=l;return a},i=l({__name:"NavBar",props:{StatusBGColor:{type:String,default:"rgba(255,255,255,1)"},containerBGColor:{type:String,default:"rgba(255,255,255,1)"},fontSize:{type:Number,default:32},textColor:{type:String,default:"rgba(0,0,0,1)"},iconWidth:{type:Number,default:116},iconHeight:{type:Number,default:38},title:{type:String,default:"首页"},isHome:{type:Boolean,default:!1}},setup(t){const a=t,o=e.ref(0),l=e.ref(0),i=e.ref(""),r=e.ref(""),n=e.ref(""),s=e.ref(""),c=e.ref(getCurrentPages().length),d=e.reactive(uni.getMenuButtonBoundingClientRect()),u=()=>{c.value>1?uni.navigateBack({delta:c.value}):uni.navigateTo({url:"/pages/index/index"})};return e.onBeforeMount((()=>{(()=>{const{statusBarHeight:e,system:t}=uni.getSystemInfoSync();o.value=2*e;const a=t.indexOf("iOS")>-1;l.value=a?88:96})(),(()=>{const{StatusBGColor:e,containerBGColor:t,iconHeight:o,iconWidth:l,fontSize:c,textColor:d}=a;i.value=["background-color:"+e].join(";"),r.value=["background-color:"+t].join(";"),n.value=["width:"+l+"rpx;height:"+o+"rpx"].join(";"),s.value=["color:"+d+";font-size:"+c+"rpx"].join(";")})()})),e.onMounted((()=>{})),(a,n)=>(e.openBlock(),e.createElementBlock("view",{class:"nav"},[e.createElementVNode("view",{style:e.normalizeStyle("height:"+o.value+"rpx;"+i.value),class:"nav-status"},null,4),t.isHome?(e.openBlock(),e.createElementBlock("view",{key:0,class:"home-nav",style:e.normalizeStyle(["height:"+l.value+"rpx;line-height:"+l.value+"rpx;",{"padding-left":"20rpx"}])},[e.createElementVNode("text",{class:"city"},"西南地区"),e.createElementVNode("navigator",{url:"../../pages/search/index",class:"searchContainer",style:e.normalizeStyle("height:"+2*d.height+"rpx;line-height:"+2*d.height+"rpx;margin-left:56rpx;margin-right:"+(2*d.width+24)+"rpx;margin-top:"+(2*d.top-o.value)+"rpx;")},[e.createElementVNode("text",{class:"search-text"},"找医院")],4)],4)):(e.openBlock(),e.createElementBlock("view",{key:1,style:e.normalizeStyle("height:"+l.value+"rpx;"+r.value),class:"nav-container"},[e.createElementVNode("view",{class:"nav-icon",onClick:u},[c.value>1?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("image",{src:"/static/resource/navbar/ic_back.png"})])):(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("image",{src:"/static/resource/navbar/ic_home.png"})]))]),e.createElementVNode("view",{class:"nav-title",style:e.normalizeStyle("height:"+l.value+"rpx;line-height:"+l.value+"rpx;"+s.value)},e.toDisplayString(t.title),5)],4))]))}},[["__scopeId","data-v-9a2f74a0"]]),r="/static/resource/images/modal_closer.png",n={__name:"index",setup(l){const n=getApp(),s=e.ref([]),c=e.ref([]),d=e.ref([]),u=e.ref([]);o((()=>{n.globalData.utils.getUserInfo(),n.globalData.utils.request({url:"/app/init",success:({data:e})=>{e.data.area,n.globalData.utils.request2({url:"/Index/index",data:{aid:1},success:e=>{t("log","at pages/index/index.vue:114","请求成功，响应数据:",e),e&&e.data&&e.data.data?(s.value=e.data.data.slides,c.value=e.data.data.nav2s,d.value=e.data.data.navs,u.value=e.data.data.hospitals,t("log","at pages/index/index.vue:120",s.value,"res")):t("error","at pages/index/index.vue:122","响应数据格式不正确:",e)},fail:e=>{t("error","at pages/index/index.vue:126","请求失败:",e)}})}})}));const m=e=>{uni.navigateTo({url:e})};return(t,o)=>{const l=a(e.resolveDynamicComponent("NavBar"),i);return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(l,{isHome:!0}),e.createElementVNode("view",{style:{"margin-top":"130rpx"}},[e.createElementVNode("view",{class:"weui-cell",style:{"background-color":"#fff9eb"}},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("image",{src:"/static/resource/images/ic_myapp.png",style:{display:"block",width:"40rpx",height:"40rpx","margin-right":"14rpx"}})]),e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("text",{style:{color:"#be9719","font-size":"26rpx"}},"点击右上角“添加到我的小程序”，方便下次找到!")]),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("image",{src:r,style:{display:"block",width:"30rpx",height:"30rpx"}})])])]),s.value&&s.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"index-swiper"},[e.createElementVNode("swiper",{"indicator-dots":!0,circular:"",autoplay:"",interval:4e3,duration:1e3},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,((t,a)=>(e.openBlock(),e.createElementBlock("swiper-item",{key:t.id},[e.createElementVNode("image",{src:t.pic_image_url,mode:"widthFix"},null,8,["src"])])))),128))])])):e.createCommentVNode("",!0),c.value&&c.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"nav2-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"nav2-item",onClick:e=>m(t.stype_link)},[e.createElementVNode("view",{class:"nav2-pic"},[e.createElementVNode("image",{src:t.pic_image_url,mode:"widthFix"},null,8,["src"])])],8,["onClick"])))),128))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"nav-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"nav-item",onClick:e=>m(t.stype_link)},[e.createElementVNode("view",{class:"nav-pic"},[e.createElementVNode("image",{src:t.pic_image_url,mode:"widthFix"},null,8,["src"])]),e.createElementVNode("view",{class:"nav-text",style:e.normalizeStyle((t.tcolor,t.tcolor))},e.toDisplayString(t.title),5)],8,["onClick"])))),128))]),e.createElementVNode("view",{class:"weui-cells hosp-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"weui-cell hosp-itemweui-cell_access",key:t.id,onClick:e=>{return a=t.id,void uni.navigateTo({url:"/pages/hospital/index?svid=1&hid="+a});var a}},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("image",{src:t.avatar?t.avatar_url:"../../static/resource/images/avatar.jpg",class:"hosp-avatar",mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",{class:"hosp-name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"hosp-line"},[e.createElementVNode("text",{class:"hosp-rank"},e.toDisplayString(t.rank),1),e.createElementVNode("text",{class:"hosp-label"},e.toDisplayString(t.label),1)]),e.createElementVNode("view",{class:"hosp-line"},[e.createElementVNode("text",{class:"hosp-intro"},e.toDisplayString(t.intro),1)])])],8,["onClick"])))),128))])])}}},s={__name:"formater",props:{timestamp:{type:Number,default:0},format:{type:String,default:"MM-dd hh:mm:ss"}},setup(t){const a=t,o=e.ref("");e.onMounted((()=>{o.value=l(a.timestamp,a.format)}));const l=(e,t)=>{const a=new Date;return a.setTime(e),a.VP_FORMAT(t)};return e.watch((()=>a.timestamp),(e=>{o.value=l(a.timestamp,a.format)})),(t,a)=>e.toDisplayString(o.value)}},c={__name:"counter",props:{second:{type:Number,default:0},format:{type:String,default:"MM-dd hh:mm"},sformat:{type:String,default:"hh:mm:ss"},suffix:{type:String,default:""}},emits:["counterOver"],setup(t,{emit:a}){const o=t,l=a,i=e.ref("");e.onMounted((()=>{i.value=r(o.second)}));const r=e=>{let t;const a=setInterval((()=>{t=(e-=1e3)<=0?(clearInterval(a),l("counterOver"),s(0,o.sformat,o.suffix)):(t=s(e,o.sformat,o.suffix),t),i.value=t}),1e3)},n=e=>(e<0&&(e=0),e<10&&(e="0"+e),e),s=(e,t,a)=>{const o={"h+":n(Math.floor(e/1e3/60/60%24)),"m+":n(Math.floor(e/1e3/60%60)),"s+":n(Math.floor(e/1e3%60))};for(let l in o)new RegExp("("+l+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[l]:("00"+o[l]).substr((""+o[l]).length)));return t+a};return(t,a)=>e.toDisplayString(i.value)}};class d{constructor(e,t){this.options=e,this.animation=uni.createAnimation({...e}),this.currentStepAnimates={},this.next=0,this.$=t}_nvuePushAnimates(e,t){let a=this.currentStepAnimates[this.next],o={};if(o=a||{styles:{},config:{}},u.includes(e)){o.styles.transform||(o.styles.transform="");let a="";"rotate"===e&&(a="deg"),o.styles.transform+=`${e}(${t+a}) `}else o.styles[e]=`${t}`;this.currentStepAnimates[this.next]=o}_animateRun(e={},t={}){let a=this.$.$refs.ani.ref;if(a)return new Promise(((o,l)=>{nvueAnimation.transition(a,{styles:e,...t},(e=>{o()}))}))}_nvueNextAnimate(e,t=0,a){let o=e[t];if(o){let{styles:l,config:i}=o;this._animateRun(l,i).then((()=>{t+=1,this._nvueNextAnimate(e,t,a)}))}else this.currentStepAnimates={},"function"==typeof a&&a(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof e&&e()}),this.$.durationTime)}}const u=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function m(e,t){if(t)return clearTimeout(t.timer),new d(e,t)}u.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((e=>{d.prototype[e]=function(...t){return this.animation[e](...t),this}}));const h=l({name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:()=>"fade"},duration:{type:Number,default:300},styles:{type:Object,default:()=>({})},customClass:{type:String,default:""},onceRender:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e={...this.styles,"transition-duration":this.duration/1e3+"s"},t="";for(let a in e){t+=this.toLine(a)+":"+e[a]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=m(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,a={}){if(this.animation){for(let a in e)try{"object"==typeof e[a]?this.animation[a](...e[a]):this.animation[a](e[a])}catch(o){t("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:148",`方法 ${a} 不存在`)}return this.animation.step(a),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);void 0!==e&&(this.opacity=e),this.transform=t,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=m(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})}),20)}))},close(e){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:t}=this.styleInit(!1);this.opacity=e||1,this.transform=t,this.$emit("change",{detail:this.isShow})}))},styleInit(e){let t={transform:""},a=(e,a)=>{"fade"===a?t.opacity=this.animationType(e)[a]:t.transform+=this.animationType(e)[a]+" "};return"string"==typeof this.modeClass?a(e,this.modeClass):this.modeClass.forEach((t=>{a(e,t)})),t},tranfromInit(e){let t=(e,t)=>{let a=null;"fade"===t?a=e?0:1:(a=e?"-100%":"0","zoom-in"===t&&(a=e?.8:1),"zoom-out"===t&&(a=e?1.2:1),"slide-right"===t&&(a=e?"100%":"0"),"slide-bottom"===t&&(a=e?"100%":"0")),this.animation[this.animationMode()[t]](a)};return"string"==typeof this.modeClass?t(e,this.modeClass):this.modeClass.forEach((a=>{t(e,a)})),this.animation},animationType:e=>({fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,a,o,l,i,r){return e.withDirectives((e.openBlock(),e.createElementBlock("view",{ref:"ani",animation:i.animationData,class:e.normalizeClass(o.customClass),style:e.normalizeStyle(r.transformStyles),onClick:a[0]||(a[0]=(...e)=>r.onClick&&r.onClick(...e))},[e.renderSlot(t.$slots,"default")],14,["animation"])),[[e.vShow,i.isShow]])}]]);const g=l({name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"},borderRadius:{type:String}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0},isMaskClick:{handler:function(e){this.mkclick=e},immediate:!0},showPopup(e){}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{backgroundColor:"transparent",borderRadius:this.borderRadius||"0",position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}},computed:{getStyles(){let e={backgroundColor:this.bg};return this.borderRadius,e=Object.assign(e,{borderRadius:this.borderRadius}),e},isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted(){(()=>{const{windowWidth:e,windowHeight:t,windowTop:a,safeArea:o,screenHeight:l,safeAreaInsets:i}=uni.getSystemInfoSync();this.popupWidth=e,this.popupHeight=t+(a||0),o&&this.safeArea?this.safeAreaInsets=i.bottom:this.safeAreaInsets=0})()},unmounted(){this.setH5Visible()},activated(){this.setH5Visible(!this.showPopup)},deactivated(){this.setH5Visible(!0)},created(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible(e=!0){},closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){e.stopPropagation(),this.clearPropagation=!0},open(e){if(this.showPopup)return;e&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(e)||(e=this.type),this.config[e]?(this[this.config[e]](),this.$emit("change",{show:!0,type:e})):t("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:298","缺少类型：",e)},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.messageChild&&"message"===this.type&&this.messageChild.timerClose()})))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center",borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)}}},[["render",function(t,o,l,i,r,n){const s=a(e.resolveDynamicComponent("uni-transition"),h);return r.showPopup?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uni-popup",[r.popupstyle,n.isDesktop?"fixforpc-z-index":""]])},[e.createElementVNode("view",{onTouchstart:o[1]||(o[1]=(...e)=>n.touchstart&&n.touchstart(...e))},[r.maskShow?(e.openBlock(),e.createBlock(s,{key:"1",name:"mask","mode-class":"fade",styles:r.maskClass,duration:r.duration,show:r.showTrans,onClick:n.onTap},null,8,["styles","duration","show","onClick"])):e.createCommentVNode("",!0),e.createVNode(s,{key:"2","mode-class":r.ani,name:"content",styles:r.transClass,duration:r.duration,show:r.showTrans,onClick:n.onTap},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-popup__wrapper",[r.popupstyle]]),style:e.normalizeStyle(n.getStyles),onClick:o[0]||(o[0]=(...e)=>n.clear&&n.clear(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)])),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],2)):e.createCommentVNode("",!0)}],["__scopeId","data-v-ee521468"]]);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p={exports:{}};"undefined"!=typeof window&&window,p.exports=function(){function e(e){this.mode=o.MODE_8BIT_BYTE,this.data=e}function a(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}e.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},a.prototype={addData:function(t){var a=new e(t);this.dataList.push(a),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=w.getRSBlocks(e,this.errorCorrectLevel),a=new f,o=0,l=0;l<t.length;l++)o+=t[l].dataCount;for(l=0;l<this.dataList.length;l++){var i=this.dataList[l];a.put(i.mode,4),a.put(i.getLength(),h.getLengthInBits(i.mode,e)),i.write(a)}if(a.getLengthInBits()<=8*o)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var l=0;l<this.moduleCount;l++)this.modules[o][l]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var a=-1;a<=7;a++)if(!(e+a<=-1||this.moduleCount<=e+a))for(var o=-1;o<=7;o++)t+o<=-1||this.moduleCount<=t+o||(this.modules[e+a][t+o]=0<=a&&a<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var e=0,t=0,a=0;a<8;a++){this.makeImpl(!0,a);var o=h.getLostPoint(this);(0==a||e>o)&&(e=o,t=a)}return t},createMovieClip:function(e,t,a){var o=e.createEmptyMovieClip(t,a);this.make();for(var l=0;l<this.modules.length;l++)for(var i=1*l,r=0;r<this.modules[l].length;r++){var n=1*r;this.modules[l][r]&&(o.beginFill(0,100),o.moveTo(n,i),o.lineTo(n+1,i),o.lineTo(n+1,i+1),o.lineTo(n,i+1),o.endFill())}return o},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=h.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var a=0;a<e.length;a++){var o=e[t],l=e[a];if(null==this.modules[o][l])for(var i=-2;i<=2;i++)for(var r=-2;r<=2;r++)this.modules[o+i][l+r]=-2==i||2==i||-2==r||2==r||0==i&&0==r}},setupTypeNumber:function(e){for(var t=h.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var o=!e&&1==(t>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=o}for(a=0;a<18;a++)o=!e&&1==(t>>a&1),this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=o},setupTypeInfo:function(e,t){for(var a=this.errorCorrectLevel<<3|t,o=h.getBCHTypeInfo(a),l=0;l<15;l++){var i=!e&&1==(o>>l&1);l<6?this.modules[l][8]=i:l<8?this.modules[l+1][8]=i:this.modules[this.moduleCount-15+l][8]=i}for(l=0;l<15;l++)i=!e&&1==(o>>l&1),l<8?this.modules[8][this.moduleCount-l-1]=i:l<9?this.modules[8][15-l-1+1]=i:this.modules[8][15-l-1]=i;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var a=-1,o=this.moduleCount-1,l=7,i=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var n=0;n<2;n++)if(null==this.modules[o][r-n]){var s=!1;i<e.length&&(s=1==(e[i]>>>l&1)),h.getMask(t,o,r-n)&&(s=!s),this.modules[o][r-n]=s,-1==--l&&(i++,l=7)}if((o+=a)<0||this.moduleCount<=o){o-=a,a=-a;break}}}},a.PAD0=236,a.PAD1=17,a.createData=function(e,t,o){for(var l=w.getRSBlocks(e,t),i=new f,r=0;r<o.length;r++){var n=o[r];i.put(n.mode,4),i.put(n.getLength(),h.getLengthInBits(n.mode,e)),n.write(i)}var s=0;for(r=0;r<l.length;r++)s+=l[r].dataCount;if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")");for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*s||(i.put(a.PAD0,8),i.getLengthInBits()>=8*s));)i.put(a.PAD1,8);return a.createBytes(i,l)},a.createBytes=function(e,t){for(var a=0,o=0,l=0,i=new Array(t.length),r=new Array(t.length),n=0;n<t.length;n++){var s=t[n].dataCount,c=t[n].totalCount-s;o=Math.max(o,s),l=Math.max(l,c),i[n]=new Array(s);for(var d=0;d<i[n].length;d++)i[n][d]=255&e.buffer[d+a];a+=s;var u=h.getErrorCorrectPolynomial(c),m=new p(i[n],u.getLength()-1).mod(u);for(r[n]=new Array(u.getLength()-1),d=0;d<r[n].length;d++){var g=d+m.getLength()-r[n].length;r[n][d]=g>=0?m.get(g):0}}var v=0;for(d=0;d<t.length;d++)v+=t[d].totalCount;var w=new Array(v),f=0;for(d=0;d<o;d++)for(n=0;n<t.length;n++)d<i[n].length&&(w[f++]=i[n][d]);for(d=0;d<l;d++)for(n=0;n<t.length;n++)d<r[n].length&&(w[f++]=r[n][d]);return w};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},i=0,r=1,n=2,s=3,c=4,d=5,u=6,m=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,a){switch(e){case i:return(t+a)%2==0;case r:return t%2==0;case n:return a%3==0;case s:return(t+a)%3==0;case c:return(Math.floor(t/2)+Math.floor(a/3))%2==0;case d:return t*a%2+t*a%3==0;case u:return(t*a%2+t*a%3)%2==0;case m:return(t*a%3+(t+a)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new p([1],0),a=0;a<e;a++)t=t.multiply(new p([1,g.gexp(a)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:case o.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),a=0,o=0;o<t;o++)for(var l=0;l<t;l++){for(var i=0,r=e.isDark(o,l),n=-1;n<=1;n++)if(!(o+n<0||t<=o+n))for(var s=-1;s<=1;s++)l+s<0||t<=l+s||0==n&&0==s||r==e.isDark(o+n,l+s)&&i++;i>5&&(a+=3+i-5)}for(o=0;o<t-1;o++)for(l=0;l<t-1;l++){var c=0;e.isDark(o,l)&&c++,e.isDark(o+1,l)&&c++,e.isDark(o,l+1)&&c++,e.isDark(o+1,l+1)&&c++,0!=c&&4!=c||(a+=3)}for(o=0;o<t;o++)for(l=0;l<t-6;l++)e.isDark(o,l)&&!e.isDark(o,l+1)&&e.isDark(o,l+2)&&e.isDark(o,l+3)&&e.isDark(o,l+4)&&!e.isDark(o,l+5)&&e.isDark(o,l+6)&&(a+=40);for(l=0;l<t;l++)for(o=0;o<t-6;o++)e.isDark(o,l)&&!e.isDark(o+1,l)&&e.isDark(o+2,l)&&e.isDark(o+3,l)&&e.isDark(o+4,l)&&!e.isDark(o+5,l)&&e.isDark(o+6,l)&&(a+=40);var d=0;for(l=0;l<t;l++)for(o=0;o<t;o++)e.isDark(o,l)&&d++;return a+Math.abs(100*d/t/t-50)/5*10}},g={glog:function(e){if(e<1)throw new Error("glog("+e+")");return g.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return g.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)g.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)g.EXP_TABLE[v]=g.EXP_TABLE[v-4]^g.EXP_TABLE[v-5]^g.EXP_TABLE[v-6]^g.EXP_TABLE[v-8];for(v=0;v<255;v++)g.LOG_TABLE[g.EXP_TABLE[v]]=v;function p(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var a=0;a<e.length&&0==e[a];)a++;this.num=new Array(e.length-a+t);for(var o=0;o<e.length-a;o++)this.num[o]=e[o+a]}function w(e,t){this.totalCount=e,this.dataCount=t}function f(){this.buffer=new Array,this.length=0}function E(e){return e.setFillStyle=e.setFillStyle||function(t){e.fillStyle=t},e.setFontSize=e.setFontSize||function(t){e.font=`${t}px`},e.setTextAlign=e.setTextAlign||function(t){e.textAlign=t},e.setTextBaseline=e.setTextBaseline||function(t){e.textBaseline=t},e.setGlobalAlpha=e.setGlobalAlpha||function(t){e.globalAlpha=t},e.setStrokeStyle=e.setStrokeStyle||function(t){e.strokeStyle=t},e.setShadow=e.setShadow||function(t,a,o,l){e.shadowOffsetX=t,e.shadowOffsetY=a,e.shadowBlur=o,e.shadowColor=l},e.draw=e.draw||function(e,t){t&&t()},e}function N(e,a){var o=this.data="";this.dataEncode=!0;var l=this.size=200;this.useDynamicSize=!1,this.dynamicSize=l;var i=this.typeNumber=-1;this.errorCorrectLevel=N.errorCorrectLevel.H;var r=this.margin=0;this.areaColor="#FFFFFF",this.backgroundColor="rgba(255,255,255,0)",this.backgroundImageSrc=void 0;var n=this.backgroundImageWidth=void 0,s=this.backgroundImageHeight=void 0,c=this.backgroundImageX=void 0,d=this.backgroundImageY=void 0;this.backgroundImageAlpha=1,this.backgroundImageBorderRadius=0;var u=this.backgroundPadding=0;this.foregroundColor="#000000",this.foregroundImageSrc=void 0;var m=this.foregroundImageWidth=void 0,h=this.foregroundImageHeight=void 0,g=this.foregroundImageX=void 0,v=this.foregroundImageY=void 0,p=this.foregroundImagePadding=0;this.foregroundImageBackgroundColor="#FFFFFF";var w=this.foregroundImageBorderRadius=0,f=this.foregroundImageShadowOffsetX=0,y=this.foregroundImageShadowOffsetY=0,_=this.foregroundImageShadowBlur=0;this.foregroundImageShadowColor="#808080";var V=this.foregroundPadding=0,k=this.positionProbeBackgroundColor=void 0,b=this.positionProbeForegroundColor=void 0,C=this.separatorColor=void 0,x=this.positionAdjustBackgroundColor=void 0,B=this.positionAdjustForegroundColor=void 0,S=this.timingBackgroundColor=void 0,D=this.timingForegroundColor=void 0,T=this.typeNumberBackgroundColor=void 0,I=this.typeNumberForegroundColor=void 0,P=this.darkBlockColor=void 0;this.base=void 0,this.modules=[],this.moduleCount=0,this.drawModules=[];var A=this.canvasContext=void 0;this.loadImage,this.drawReserve=!1,this.isMaked=!1,Object.defineProperties(this,{data:{get(){if(""===o||void 0===o)throw t("error","at node_modules/uqrcodejs/uqrcode.js:34","[uQRCode]: data must be set!"),new N.Error("data must be set!");return o},set(e){o=String(e)}},size:{get:()=>l,set(e){l=Number(e)}},typeNumber:{get:()=>i,set(e){i=Number(e)}},margin:{get:()=>r,set(e){r=Number(e)}},backgroundImageWidth:{get(){return void 0===n?this.dynamicSize:this.useDynamicSize?this.dynamicSize/this.size*n:n},set(e){n=Number(e)}},backgroundImageHeight:{get(){return void 0===s?this.dynamicSize:this.useDynamicSize?this.dynamicSize/this.size*s:s},set(e){s=Number(e)}},backgroundImageX:{get(){return void 0===c?0:this.useDynamicSize?this.dynamicSize/this.size*c:c},set(e){c=Number(e)}},backgroundImageY:{get(){return void 0===d?0:this.useDynamicSize?this.dynamicSize/this.size*d:d},set(e){d=Number(e)}},backgroundPadding:{get:()=>u,set(e){u=e>1?1:e<0?0:e}},foregroundImageWidth:{get(){return void 0===m?(this.dynamicSize-2*this.margin)/4:this.useDynamicSize?this.dynamicSize/this.size*m:m},set(e){m=Number(e)}},foregroundImageHeight:{get(){return void 0===h?(this.dynamicSize-2*this.margin)/4:this.useDynamicSize?this.dynamicSize/this.size*h:h},set(e){h=Number(e)}},foregroundImageX:{get(){return void 0===g?this.dynamicSize/2-this.foregroundImageWidth/2:this.useDynamicSize?this.dynamicSize/this.size*g:g},set(e){g=Number(e)}},foregroundImageY:{get(){return void 0===v?this.dynamicSize/2-this.foregroundImageHeight/2:this.useDynamicSize?this.dynamicSize/this.size*v:v},set(e){v=Number(e)}},foregroundImagePadding:{get(){return this.useDynamicSize?this.dynamicSize/this.size*p:p},set(e){p=Number(e)}},foregroundImageBorderRadius:{get(){return this.useDynamicSize?this.dynamicSize/this.size*w:w},set(e){w=Number(e)}},foregroundImageShadowOffsetX:{get(){return this.useDynamicSize?this.dynamicSize/this.size*f:f},set(e){f=Number(e)}},foregroundImageShadowOffsetY:{get(){return this.useDynamicSize?this.dynamicSize/this.size*y:y},set(e){y=Number(e)}},foregroundImageShadowBlur:{get(){return this.useDynamicSize?this.dynamicSize/this.size*_:_},set(e){_=Number(e)}},foregroundPadding:{get:()=>V,set(e){V=e>1?1:e<0?0:e}},positionProbeBackgroundColor:{get(){return k||this.backgroundColor},set(e){k=e}},positionProbeForegroundColor:{get(){return b||this.foregroundColor},set(e){b=e}},separatorColor:{get(){return C||this.backgroundColor},set(e){C=e}},positionAdjustBackgroundColor:{get(){return x||this.backgroundColor},set(e){x=e}},positionAdjustForegroundColor:{get(){return B||this.foregroundColor},set(e){B=e}},timingBackgroundColor:{get(){return S||this.backgroundColor},set(e){S=e}},timingForegroundColor:{get(){return D||this.foregroundColor},set(e){D=e}},typeNumberBackgroundColor:{get(){return T||this.backgroundColor},set(e){T=e}},typeNumberForegroundColor:{get(){return I||this.foregroundColor},set(e){I=e}},darkBlockColor:{get(){return P||this.foregroundColor},set(e){P=e}},canvasContext:{get(){if(void 0===A)throw t("error","at node_modules/uqrcodejs/uqrcode.js:34","[uQRCode]: use drawCanvas, you need to set the canvasContext!"),new N.Error("use drawCanvas, you need to set the canvasContext!");return A},set(e){A=E(e)}}}),N.plugins.forEach((e=>e(N,this,!1))),e&&this.setOptions(e),a&&(this.canvasContext=E(a))}return p.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),a=0;a<this.getLength();a++)for(var o=0;o<e.getLength();o++)t[a+o]^=g.gexp(g.glog(this.get(a))+g.glog(e.get(o)));return new p(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=g.glog(this.get(0))-g.glog(e.get(0)),a=new Array(this.getLength()),o=0;o<this.getLength();o++)a[o]=this.get(o);for(o=0;o<e.getLength();o++)a[o]^=g.gexp(g.glog(e.get(o))+t);return new p(a,0).mod(e)}},w.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],w.getRSBlocks=function(e,t){var a=w.getRsBlockTable(e,t);if(null==a)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=a.length/3,l=new Array,i=0;i<o;i++)for(var r=a[3*i+0],n=a[3*i+1],s=a[3*i+2],c=0;c<r;c++)l.push(new w(n,s));return l},w.getRsBlockTable=function(e,t){switch(t){case l.L:return w.RS_BLOCK_TABLE[4*(e-1)+0];case l.M:return w.RS_BLOCK_TABLE[4*(e-1)+1];case l.Q:return w.RS_BLOCK_TABLE[4*(e-1)+2];case l.H:return w.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},f.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var a=0;a<t;a++)this.putBit(1==(e>>>t-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},a.errorCorrectLevel=l,N.errorCorrectLevel=a.errorCorrectLevel,N.Error=function(e){this.errMsg="[uQRCode]: "+e},N.plugins=[],N.use=function(e){"function"==typeof e&&N.plugins.push(e)},N.prototype.loadImage=function(e){return Promise.resolve(e)},N.prototype.setOptions=function(e){var t,a,o,l,i,r,n,s,c,d,u,m,h,g,v,p,w,f,E,N,y,_,V,k,b,C,x,B,S,D,T,I,P,A,M,L,z,F,R,O,j,Y,H,$,q,X,U,G,W,K,Q,J,Z,ee,te,ae;e&&(Object.keys(e).forEach((t=>{this[t]=e[t]})),function(e={},t={},a=!1){let o;for(var l in o=a?e:{...e},t){var i=t[l];null!=i&&(i.constructor==Object?o[l]=this.deepReplace(o[l],i):i.constructor!=String||i?o[l]=i:o[l]=o[l])}}(this,{data:e.data||e.text,dataEncode:e.dataEncode,size:e.size,useDynamicSize:e.useDynamicSize,typeNumber:e.typeNumber,errorCorrectLevel:e.errorCorrectLevel,margin:e.margin,areaColor:e.areaColor,backgroundColor:e.backgroundColor||(null===(t=e.background)||void 0===t?void 0:t.color),backgroundImageSrc:e.backgroundImageSrc||(null===(a=e.background)||void 0===a||null===(o=a.image)||void 0===o?void 0:o.src),backgroundImageWidth:e.backgroundImageWidth||(null===(l=e.background)||void 0===l||null===(i=l.image)||void 0===i?void 0:i.width),backgroundImageHeight:e.backgroundImageHeight||(null===(r=e.background)||void 0===r||null===(n=r.image)||void 0===n?void 0:n.height),backgroundImageX:e.backgroundImageX||(null===(s=e.background)||void 0===s||null===(c=s.image)||void 0===c?void 0:c.x),backgroundImageY:e.backgroundImageY||(null===(d=e.background)||void 0===d||null===(u=d.image)||void 0===u?void 0:u.y),backgroundImageAlpha:e.backgroundImageAlpha||(null===(m=e.background)||void 0===m||null===(h=m.image)||void 0===h?void 0:h.alpha),backgroundImageBorderRadius:e.backgroundImageBorderRadius||(null===(g=e.background)||void 0===g||null===(v=g.image)||void 0===v?void 0:v.borderRadius),backgroundPadding:e.backgroundPadding,foregroundColor:e.foregroundColor||(null===(p=e.foreground)||void 0===p?void 0:p.color),foregroundImageSrc:e.foregroundImageSrc||(null===(w=e.foreground)||void 0===w||null===(f=w.image)||void 0===f?void 0:f.src),foregroundImageWidth:e.foregroundImageWidth||(null===(E=e.foreground)||void 0===E||null===(N=E.image)||void 0===N?void 0:N.width),foregroundImageHeight:e.foregroundImageHeight||(null===(y=e.foreground)||void 0===y||null===(_=y.image)||void 0===_?void 0:_.height),foregroundImageX:e.foregroundImageX||(null===(V=e.foreground)||void 0===V||null===(k=V.image)||void 0===k?void 0:k.x),foregroundImageY:e.foregroundImageY||(null===(b=e.foreground)||void 0===b||null===(C=b.image)||void 0===C?void 0:C.y),foregroundImagePadding:e.foregroundImagePadding||(null===(x=e.foreground)||void 0===x||null===(B=x.image)||void 0===B?void 0:B.padding),foregroundImageBackgroundColor:e.foregroundImageBackgroundColor||(null===(S=e.foreground)||void 0===S||null===(D=S.image)||void 0===D?void 0:D.backgroundColor),foregroundImageBorderRadius:e.foregroundImageBorderRadius||(null===(T=e.foreground)||void 0===T||null===(I=T.image)||void 0===I?void 0:I.borderRadius),foregroundImageShadowOffsetX:e.foregroundImageShadowOffsetX||(null===(P=e.foreground)||void 0===P||null===(A=P.image)||void 0===A?void 0:A.shadowOffsetX),foregroundImageShadowOffsetY:e.foregroundImageShadowOffsetY||(null===(M=e.foreground)||void 0===M||null===(L=M.image)||void 0===L?void 0:L.shadowOffsetY),foregroundImageShadowBlur:e.foregroundImageShadowBlur||(null===(z=e.foreground)||void 0===z||null===(F=z.image)||void 0===F?void 0:F.shadowBlur),foregroundImageShadowColor:e.foregroundImageShadowColor||(null===(R=e.foreground)||void 0===R||null===(O=R.image)||void 0===O?void 0:O.shadowColor),foregroundPadding:e.foregroundPadding,positionProbeBackgroundColor:e.positionProbeBackgroundColor||(null===(j=e.positionProbe)||void 0===j?void 0:j.backgroundColor)||(null===(Y=e.positionDetection)||void 0===Y?void 0:Y.backgroundColor),positionProbeForegroundColor:e.positionProbeForegroundColor||(null===(H=e.positionProbe)||void 0===H?void 0:H.foregroundColor)||(null===($=e.positionDetection)||void 0===$?void 0:$.foregroundColor),separatorColor:e.separatorColor||(null===(q=e.separator)||void 0===q?void 0:q.color),positionAdjustBackgroundColor:e.positionAdjustBackgroundColor||(null===(X=e.positionAdjust)||void 0===X?void 0:X.backgroundColor)||(null===(U=e.alignment)||void 0===U?void 0:U.backgroundColor),positionAdjustForegroundColor:e.positionAdjustForegroundColor||(null===(G=e.positionAdjust)||void 0===G?void 0:G.foregroundColor)||(null===(W=e.alignment)||void 0===W?void 0:W.foregroundColor),timingBackgroundColor:e.timingBackgroundColor||(null===(K=e.timing)||void 0===K?void 0:K.backgroundColor),timingForegroundColor:e.timingForegroundColor||(null===(Q=e.timing)||void 0===Q?void 0:Q.foregroundColor),typeNumberBackgroundColor:e.typeNumberBackgroundColor||(null===(J=e.typeNumber)||void 0===J?void 0:J.backgroundColor)||(null===(Z=e.versionInformation)||void 0===Z?void 0:Z.backgroundColor),typeNumberForegroundColor:e.typeNumberForegroundColor||(null===(ee=e.typeNumber)||void 0===ee?void 0:ee.foregroundColor)||(null===(te=e.versionInformation)||void 0===te?void 0:te.foregroundColor),darkBlockColor:e.darkBlockColor||(null===(ae=e.darkBlock)||void 0===ae?void 0:ae.color)},!0))},N.prototype.make=function(){let{foregroundColor:e,backgroundColor:o,typeNumber:l,errorCorrectLevel:i,data:r,dataEncode:n,size:s,margin:c,useDynamicSize:d}=this;if(e===o)throw t("error","at node_modules/uqrcodejs/uqrcode.js:34","[uQRCode]: foregroundColor and backgroundColor cannot be the same!"),new N.Error("foregroundColor and backgroundColor cannot be the same!");n&&(r=function(e){e=e.toString();for(var t,a="",o=0;o<e.length;o++)(t=e.charCodeAt(o))>=1&&t<=127?a+=e.charAt(o):t>2047?(a+=String.fromCharCode(224|t>>12&15),a+=String.fromCharCode(128|t>>6&63),a+=String.fromCharCode(128|t>>0&63)):(a+=String.fromCharCode(192|t>>6&31),a+=String.fromCharCode(128|t>>0&63));return a}(r));var u=new a(l,i);u.addData(r),u.make(),this.base=u,this.typeNumber=u.typeNumber,this.modules=u.modules,this.moduleCount=u.moduleCount,this.dynamicSize=d?Math.ceil((s-2*c)/u.moduleCount)*u.moduleCount+2*c:s,function(e){let{dynamicSize:t,margin:a,backgroundColor:o,backgroundPadding:l,foregroundColor:i,foregroundPadding:r,modules:n,moduleCount:s}=e;var c=(t-2*a)/s,d=c,u=0;l>0&&(d-=2*(u=d*l/2));var m=c,h=0;r>0&&(m-=2*(h=m*r/2));for(var g=0;g<s;g++)for(var v=0;v<s;v++){var p=v*c+a,w=g*c+a;if(n[g][v]){var f=h,E=p+h,N=w+h,y=m,_=m;n[g][v]={type:["foreground"],color:i,isBlack:!0,isDrawn:!1,destX:p,destY:w,destWidth:c,destHeight:c,x:E,y:N,width:y,height:_,paddingTop:f,paddingRight:f,paddingBottom:f,paddingLeft:f}}else f=u,E=p+u,N=w+u,y=d,_=d,n[g][v]={type:["background"],color:o,isBlack:!1,isDrawn:!1,destX:p,destY:w,destWidth:c,destHeight:c,x:E,y:N,width:y,height:_,paddingTop:f,paddingRight:f,paddingBottom:f,paddingLeft:f}}}(this),function(e){let{modules:t,moduleCount:a,positionProbeBackgroundColor:o,positionProbeForegroundColor:l}=e;var i=a-7;[[0,0,1],[1,0,1],[2,0,1],[3,0,1],[4,0,1],[5,0,1],[6,0,1],[0,1,1],[1,1,0],[2,1,0],[3,1,0],[4,1,0],[5,1,0],[6,1,1],[0,2,1],[1,2,0],[2,2,1],[3,2,1],[4,2,1],[5,2,0],[6,2,1],[0,3,1],[1,3,0],[2,3,1],[3,3,1],[4,3,1],[5,3,0],[6,3,1],[0,4,1],[1,4,0],[2,4,1],[3,4,1],[4,4,1],[5,4,0],[6,4,1],[0,5,1],[1,5,0],[2,5,0],[3,5,0],[4,5,0],[5,5,0],[6,5,1],[0,6,1],[1,6,1],[2,6,1],[3,6,1],[4,6,1],[5,6,1],[6,6,1]].forEach((e=>{var a=t[e[0]][e[1]],r=t[e[0]+i][e[1]],n=t[e[0]][e[1]+i];n.type.push("positionProbe"),r.type.push("positionProbe"),a.type.push("positionProbe"),a.color=1==e[2]?l:o,r.color=1==e[2]?l:o,n.color=1==e[2]?l:o}))}(this),function(e){let{modules:t,moduleCount:a,separatorColor:o}=e;[[7,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,6],[7,7],[0,7],[1,7],[2,7],[3,7],[4,7],[5,7],[6,7]].forEach((e=>{var l=t[e[0]][e[1]],i=t[a-e[0]-1][e[1]],r=t[e[0]][a-e[1]-1];r.type.push("separator"),i.type.push("separator"),l.type.push("separator"),l.color=o,i.color=o,r.color=o}))}(this),function(e){let{typeNumber:t,modules:a,moduleCount:o,foregroundColor:l,backgroundColor:i,positionAdjustForegroundColor:r,positionAdjustBackgroundColor:n,timingForegroundColor:s,timingBackgroundColor:c}=e;var d=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]][t-1];if(d)for(var u=[[-2,-2,1],[-1,-2,1],[0,-2,1],[1,-2,1],[2,-2,1],[-2,-1,1],[-1,-1,0],[0,-1,0],[1,-1,0],[2,-1,1],[-2,0,1],[-1,0,0],[0,0,1],[1,0,0],[2,0,1],[-2,1,1],[-1,1,0],[0,1,0],[1,1,0],[2,1,1],[-2,2,1],[-1,2,1],[0,2,1],[1,2,1],[2,2,1]],m=d.length,h=0;h<m;h++)for(var g=0;g<m;g++){var{x:v,y:p}={x:d[h],y:d[g]};v<9&&p<9||v>o-9-1&&p<9||p>o-9-1&&v<9||u.forEach((e=>{var t=a[v+e[0]][p+e[1]];t.type.push("positionAdjust"),t.type.includes("timing")?1==e[2]?t.color=r==l?s:r:t.color=r==l&&n==i?c:n:t.color=1==e[2]?r:n}))}}(this),function(e){let{modules:t,moduleCount:a,timingForegroundColor:o,timingBackgroundColor:l}=e;for(var i=a-16,r=0;r<i;r++){var n=t[6][8+r],s=t[8+r][6];n.type.push("timing"),s.type.push("timing"),n.color=1&r^1?o:l,s.color=1&r^1?o:l}}(this),function(e){let{modules:t,moduleCount:a,darkBlockColor:o}=e;var l=t[a-7-1][8];l.type.push("darkBlock"),l.color=o}(this),function(e){let{typeNumber:t,modules:a,moduleCount:o,typeNumberBackgroundColor:l,typeNumberForegroundColor:i}=e;if(t<7)return a;var r=[0,0,0,0,0,0,0,"000111110010010100","001000010110111100","001001101010011001","001010010011010011","001011101111110110","001100011101100010","001101100001000111","001110011000001101","001111100100101000","010000101101111000","010001010001011101","010010101000010111","010011010100110010","010100100110100110","010101011010000011","010110100011001001","010111011111101100","011000111011000100","011001000111100001","011010111110101011","011011000010001110","011100110000011010","011101001100111111","011110110101110101","011111001001010000","100000100111010101","100001011011110000","100010100010111010","100011011110011111","100100101100001011","100101010000101110","100110101001100100","100111010101000001","101000110001101001"],n=r[t]+r[t],s=[o-11,o-10,o-9];[[5,s[2]],[5,s[1]],[5,s[0]],[4,s[2]],[4,s[1]],[4,s[0]],[3,s[2]],[3,s[1]],[3,s[0]],[2,s[2]],[2,s[1]],[2,s[0]],[1,s[2]],[1,s[1]],[1,s[0]],[0,s[2]],[0,s[1]],[0,s[0]],[s[2],5],[s[1],5],[s[0],5],[s[2],4],[s[1],4],[s[0],4],[s[2],3],[s[1],3],[s[0],3],[s[2],2],[s[1],2],[s[0],2],[s[2],1],[s[1],1],[s[0],1],[s[2],0],[s[1],0],[s[0],0]].forEach(((e,t)=>{var o=a[e[0]][e[1]];o.type.push("typeNumber"),o.color="1"==n[t]?i:l}))}(this),this.isMaked=!0,this.drawModules=[]},N.prototype.getDrawModules=function(){if(this.drawModules&&this.drawModules.length>0)return this.drawModules;let e=this.drawModules=[],{modules:t,moduleCount:a,dynamicSize:o,areaColor:l,backgroundImageSrc:i,backgroundImageX:r,backgroundImageY:n,backgroundImageWidth:s,backgroundImageHeight:c,backgroundImageAlpha:d,backgroundImageBorderRadius:u,foregroundImageSrc:m,foregroundImageX:h,foregroundImageY:g,foregroundImageWidth:v,foregroundImageHeight:p,foregroundImagePadding:w,foregroundImageBackgroundColor:f,foregroundImageBorderRadius:E,foregroundImageShadowOffsetX:N,foregroundImageShadowOffsetY:y,foregroundImageShadowBlur:_,foregroundImageShadowColor:V}=this;l&&e.push({name:"area",type:"area",color:l,x:0,y:0,width:o,height:o}),i&&e.push({name:"backgroundImage",type:"image",imageSrc:i,mappingName:"backgroundImageSrc",x:r,y:n,width:s,height:c,alpha:d,borderRadius:u});for(var k=0;k<a;k++)for(var b=0;b<a;b++){var C=t[k][b];C.isDrawn||(C.type.includes("foreground")?e.push({name:"foreground",type:"tile",color:C.color,destX:C.destX,destY:C.destY,destWidth:C.destWidth,destHeight:C.destHeight,x:C.x,y:C.y,width:C.width,height:C.height,paddingTop:C.paddingTop,paddingRight:C.paddingRight,paddingBottom:C.paddingBottom,paddingLeft:C.paddingLeft,rowIndex:k,colIndex:b}):e.push({name:"background",type:"tile",color:C.color,destX:C.destX,destY:C.destY,destWidth:C.destWidth,destHeight:C.destHeight,x:C.x,y:C.y,width:C.width,height:C.height,paddingTop:C.paddingTop,paddingRight:C.paddingRight,paddingBottom:C.paddingBottom,paddingLeft:C.paddingLeft,rowIndex:k,colIndex:b}),C.isDrawn=!0)}return m&&e.push({name:"foregroundImage",type:"image",imageSrc:m,mappingName:"foregroundImageSrc",x:h,y:g,width:v,height:p,padding:w,backgroundColor:f,borderRadius:E,shadowOffsetX:N,shadowOffsetY:y,shadowBlur:_,shadowColor:V}),e},N.prototype.isBlack=function(e,t){var a=this.moduleCount;return!(0>e||0>t||e>=a||t>=a)&&this.modules[e][t].isBlack},N.prototype.drawCanvas=function(e){let{isMaked:a,canvasContext:o,useDynamicSize:l,dynamicSize:i,foregroundColor:r,foregroundPadding:n,backgroundColor:s,backgroundPadding:c,drawReserve:d,margin:u}=this;if(!a)return t("error","at node_modules/uqrcodejs/uqrcode.js:34","[uQRCode]: please execute the make method first!"),Promise.reject(new N.Error("please execute the make method first!"));let m=this.getDrawModules(),h=async(a,l)=>{try{o.draw(e);for(var i=0;i<m.length;i++){var r=m[i];switch(o.save(),r.type){case"area":o.setFillStyle(r.color),o.fillRect(r.x,r.y,r.width,r.height);break;case"tile":var n=r.x,s=r.y,c=r.width,u=r.height;o.setFillStyle(r.color),o.fillRect(n,s,c,u);break;case"image":if("backgroundImage"===r.name){n=Math.round(r.x),s=Math.round(r.y),c=Math.round(r.width),u=Math.round(r.height),c<2*(g=Math.round(r.borderRadius))&&(g=c/2),u<2*g&&(g=u/2),o.setGlobalAlpha(r.alpha),g>0&&(o.beginPath(),o.moveTo(n+g,s),o.arcTo(n+c,s,n+c,s+u,g),o.arcTo(n+c,s+u,n,s+u,g),o.arcTo(n,s+u,n,s,g),o.arcTo(n,s,n+c,s,g),o.closePath(),o.setStrokeStyle("rgba(0,0,0,0)"),o.stroke(),o.clip());try{var h=await this.loadImage(r.imageSrc);o.drawImage(h,n,s,c,u)}catch(_){throw t("error","at node_modules/uqrcodejs/uqrcode.js:34",`[uQRCode]: ${r.mappingName} invalid!`),new N.Error(`${r.mappingName} invalid!`)}}else if("foregroundImage"===r.name){n=Math.round(r.x),s=Math.round(r.y),c=Math.round(r.width),u=Math.round(r.height);var g,v=Math.round(r.padding);c<2*(g=Math.round(r.borderRadius))&&(g=c/2),u<2*g&&(g=u/2);var p=n-v,w=s-v,f=c+2*v,E=u+2*v,y=Math.round(f/c*g);f<2*y&&(y=f/2),E<2*y&&(y=E/2),o.save(),o.setShadow(r.shadowOffsetX,r.shadowOffsetY,r.shadowBlur,r.shadowColor),y>0?(o.beginPath(),o.moveTo(p+y,w),o.arcTo(p+f,w,p+f,w+E,y),o.arcTo(p+f,w+E,p,w+E,y),o.arcTo(p,w+E,p,w,y),o.arcTo(p,w,p+f,w,y),o.closePath(),o.setFillStyle(r.backgroundColor),o.fill()):(o.setFillStyle(r.backgroundColor),o.fillRect(p,w,f,E)),o.restore(),o.save(),y>0?(o.beginPath(),o.moveTo(p+y,w),o.arcTo(p+f,w,p+f,w+E,y),o.arcTo(p+f,w+E,p,w+E,y),o.arcTo(p,w+E,p,w,y),o.arcTo(p,w,p+f,w,y),o.closePath(),o.setFillStyle(v>0?r.backgroundColor:"rgba(0,0,0,0)"),o.fill()):(o.setFillStyle(v>0?r.backgroundColor:"rgba(0,0,0,0)"),o.fillRect(p,w,f,E)),o.restore(),g>0&&(o.beginPath(),o.moveTo(n+g,s),o.arcTo(n+c,s,n+c,s+u,g),o.arcTo(n+c,s+u,n,s+u,g),o.arcTo(n,s+u,n,s,g),o.arcTo(n,s,n+c,s,g),o.closePath(),o.setStrokeStyle("rgba(0,0,0,0)"),o.stroke(),o.clip());try{h=await this.loadImage(r.imageSrc),o.drawImage(h,n,s,c,u)}catch(_){throw t("error","at node_modules/uqrcodejs/uqrcode.js:34",`[uQRCode]: ${r.mappingName} invalid!`),new N.Error(`${r.mappingName} invalid!`)}}}d&&o.draw(!0),o.restore()}o.draw(!0),setTimeout(a,150)}catch(_){l(_)}};return new Promise(((e,t)=>{h(e,t)}))},N.prototype.draw=function(e){return this.drawCanvas(e)},N.prototype.register=function(e){e&&e(N,this,!0)},N}();const w=v(p.exports),f={__name:"index",setup(o){const l=getApp(),i=e.ref(""),r=e.ref([]),n=e.ref(null),d=e.ref({validCode:"",phone:""}),u=e.ref({validText:"获取验证码",time:60});e.onMounted((()=>{t("log","at pages/order/index.vue:144",l.globalData.filt," app.globalData.filt"),i.value=l.globalData.filt,h()}));const m=e=>{i.value!=e&&(i.value=e,h())},h=()=>{if(!uni.getStorageSync("token"))return n.value.open("center");l.globalData.utils.request({url:"/order/list",method:"GET",header:{token:uni.getStorageSync("token")},data:{state:i.value},success:e=>{r.value=e.data.data,t("log","at pages/order/index.vue:175",e.data.data,"res")},fail:e=>{t("log","at pages/order/index.vue:178",e,"res")}})},v=()=>{i.value="",h()};let p=!1;const w=()=>{if(!d.value.phone)return uni.showToast({title:"请输入手机号",duration:1e3,icon:"none"});if(p)return;p=!0;const e=setInterval((()=>{u.value.time<=0?(u.value.validText="获取验证码",u.value.time=60,clearInterval(e),p=!1):(u.value.time-=1,u.value.validText=`剩余${u.value.time}S`)}),1e3);l.globalData.utils.request({url:"/get/code",method:"POST",data:{tel:d.value.phone},success:e=>{uni.showToast({title:"验证码发送成功,请尽快验证!",duration:1e3,icon:"none"})},fail:e=>{uni.showToast({title:e.msg,duration:1e3,icon:"none"})}})},f=()=>{n.value.close()},E=()=>{if(!d.value.phone||!d.value.validCode)return uni.showToast({title:"请检查输入信息",duration:1e3,icon:"none"});l.globalData.utils.request({url:"/user/authentication",method:"POST",data:{tel:d.value.phone,code:d.value.validCode},success:e=>{uni.setStorageSync("token",e.data.data.token),n.value.close(),h()},fail:e=>{n.value.close(),uni.showToast({title:e.msg,duration:1e3,icon:"none"})}})};return(t,o)=>{const l=a(e.resolveDynamicComponent("formater"),s),h=a(e.resolveDynamicComponent("counter"),c),p=a(e.resolveDynamicComponent("uni-popup"),g);return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{style:{width:"100%","border-bottom":"0 none",position:"fixed","z-index":"2"}},[e.createElementVNode("view",{style:{background:"#ffffff",position:"relative"}},[e.createElementVNode("view",{class:"h-tab vp-flex"},[e.createElementVNode("view",{class:e.normalizeClass("h-tab-item vp-flex_1 "+(""==i.value?"on":"")),onClick:o[0]||(o[0]=e=>m(""))},"全部 ",2),e.createElementVNode("view",{class:e.normalizeClass("h-tab-item vp-flex_1 "+(1==i.value?"on":"")),onClick:o[1]||(o[1]=e=>m(1))},"待支付",2),e.createElementVNode("view",{class:e.normalizeClass("h-tab-item vp-flex_1 "+(2==i.value?"on":"")),onClick:o[2]||(o[2]=e=>m(2))},"待服务",2),e.createElementVNode("view",{class:e.normalizeClass("h-tab-item vp-flex_1 "+(3==i.value?"on":"")),onClick:o[3]||(o[3]=e=>m(3))},"已完成",2),e.createElementVNode("view",{class:e.normalizeClass("h-tab-item vp-flex_1 "+(4==i.value?"on":"")),onClick:o[4]||(o[4]=e=>m(4))},"已取消",2)])])]),e.createElementVNode("view",{style:{height:"100rpx"}}),null!=r.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[null!=r.value&&0==r.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,style:{padding:"40rpx 40rpx 40rpx 40rpx","text-align":"center"}},[e.createElementVNode("image",{src:"/static/resource/images/empty.png",mode:"widthFix",style:{width:"200rpx"}}),e.createElementVNode("view",{class:"f5"},"没有相关内容~")])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"od-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"od-item",onClick:e=>{return a=t.out_trade_no,void uni.navigateTo({url:`./orderDetail/index?oid=${a}`});var a}},[e.createElementVNode("view",{class:"weui-cell weui-cell_access"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:t.service_logo_image_url,mode:"widthFix",class:"od-logo",style:{width:"100rpx",height:"100rpx","margin-right":"20rpx"}},null,8,["src"])])]),e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",null,[e.createElementVNode("text",{style:{"font-weight":"bold"}},e.toDisplayString(t.service_name),1)]),e.createElementVNode("view",{class:"od-info"},[t.service_stype<=20?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",null,[e.createElementVNode("text",null,e.toDisplayString(t.hospital_name)+"（"+e.toDisplayString(t.area_name)+"）",1)]),e.createElementVNode("view",null,[e.createTextVNode(" 预约时间： "),e.createVNode(l,{timestamp:t.starttime,format:"MM-dd hh:mm"},null,8,["timestamp"])]),e.createElementVNode("view",null,[e.createTextVNode(" 就诊人员： "),e.createElementVNode("text",null,e.toDisplayString(t.client_name),1)])],64)):e.createCommentVNode("",!0),t.service_stype>20&&t.service_stype<100?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",null,[e.createElementVNode("text",null,e.toDisplayString(t.hospital_name)+"（"+e.toDisplayString(t.area_name)+"）",1)]),e.createElementVNode("view",null,[e.createTextVNode(" 处理时间： "),e.createVNode(l,{timestamp:t.starttime,format:"MM-dd hh:mm"},null,8,["timestamp"])])],64)):e.createCommentVNode("",!0),t.service_stype>100?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("view",null,[e.createTextVNode(" 服务时间： "),e.createVNode(l,{timestamp:t.starttime,format:"MM-dd hh:mm"},null,8,["timestamp"])]),e.createElementVNode("view",null,[e.createTextVNode(" 服务对象： "),e.createElementVNode("text",null,e.toDisplayString(t.client_name),1)])],64)):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"weui-cell__ft"},["待支付"==t.trade_state?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{style:{color:"#ffa200"}},[e.createElementVNode("text",null,"待支付")]),e.createElementVNode("view",{style:{color:"#ffa200"}},[e.createVNode(h,{style:{"font-size":"24rpx"},second:t._exp_time,onCounterOver:v},null,8,["second"])])],64)):e.createCommentVNode("",!0),"待服务"==t.trade_state?(e.openBlock(),e.createElementBlock("view",{key:1,style:{color:"#1da6fd"}},[e.createElementVNode("text",null,"待服务")])):e.createCommentVNode("",!0),"已完成"==t.trade_state?(e.openBlock(),e.createElementBlock("view",{key:2,style:{color:"#21c521"}},[e.createElementVNode("text",null,"已完成")])):e.createCommentVNode("",!0),"已取消"==t.trade_state?(e.openBlock(),e.createElementBlock("view",{key:3,style:{color:"#999999"}},[e.createElementVNode("text",null,"已取消")])):e.createCommentVNode("",!0)])])],8,["onClick"])))),128))]))],64)):e.createCommentVNode("",!0),e.createVNode(p,{ref_key:"popup",ref:n,type:"center","is-mask-click":!1,"background-color":"#fff"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-content"},[e.createElementVNode("view",{class:"group"},[e.withDirectives(e.createElementVNode("input",{class:"uni-input",type:"tel","onUpdate:modelValue":o[5]||(o[5]=e=>d.value.phone=e),placeholder:"手机号"},null,512),[[e.vModelText,d.value.phone]])]),e.createElementVNode("view",{class:"group"},[e.withDirectives(e.createElementVNode("input",{class:"uni-input","onUpdate:modelValue":o[6]||(o[6]=e=>d.value.validCode=e),placeholder:"请输入验证码"},null,512),[[e.vModelText,d.value.validCode]]),e.createElementVNode("text",{class:"valid-text",onClick:w},e.toDisplayString(u.value.validText),1)])]),e.createElementVNode("view",{class:"btns"},[e.createElementVNode("view",{class:"cancal",onClick:f},"取消"),e.createElementVNode("view",{class:"ok",onClick:E},"确定")])])),_:1},512)])}}},E=l({__name:"share",props:["shareModal"],setup(a){const o=a,l=e.ref(!1),i=()=>{t("log","at components/share/share.vue:45","占位：函数 preventTouchMove 未声明")},n=()=>{l.value=!1},s=()=>{};return t("log","at components/share/share.vue:53",o.shareModal,"shareModal"),e.watch((()=>o.shareModal),(e=>{l.value=e}),{immediate:!0}),(t,a)=>(e.openBlock(),e.createElementBlock("view",null,[l.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"modal-mask",onTouchmove:e.withModifiers(i,["stop","prevent"])},null,32)):e.createCommentVNode("",!0),l.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"modal-dialog"},[e.createElementVNode("view",{class:"vp-flex",style:{height:"100%","flex-direction":"column"}},[e.createElementVNode("view",{class:"vp-flex_1",onClick:n}),e.createElementVNode("view",null,[e.createElementVNode("view",{class:"modal-main",style:{background:"#f4f4f4"}},[e.createElementVNode("view",{class:"modal-hd"},[e.createElementVNode("text",{class:"modal-hd-title"},"转发分享"),e.createElementVNode("image",{class:"modal-hd-closer",src:r,mode:"widthFix",onClick:n})]),e.createElementVNode("view",{class:"modal-bd"},[e.createElementVNode("view",{style:{padding:"60rpx 0"}},[e.createElementVNode("view",{class:"push-types"},[e.createElementVNode("view",{class:"vp-flex"},[e.createElementVNode("view",{class:"vp-flex_1"},[e.createElementVNode("button",{"open-type":"share",class:"push-type"},[e.createElementVNode("view",{class:"push-icon"},[e.createElementVNode("image",{src:"/static/resource/images/push_wx.png",mode:"widthFix"})]),e.createElementVNode("view",{class:"push-text"},[e.createElementVNode("text",null,"发给微信好友")])])]),e.createElementVNode("view",{class:"vp-flex_1"},[e.createElementVNode("view",{class:"push-type",onClick:s},[e.createElementVNode("view",{class:"push-icon"},[e.createElementVNode("image",{src:"/static/resource/images/push_img.png",mode:"widthFix"})]),e.createElementVNode("view",{class:"push-text"},[e.createElementVNode("text",null,"生成分享图片")])])])])])])])])])])])):e.createCommentVNode("",!0)]))}},[["__scopeId","data-v-100a2f29"]]),N={__name:"index",setup(o){const l=getApp(),i=e.ref({}),r=e.ref({}),n=e.ref(null),s=e.ref({validCode:"",phone:""}),c=e.ref({validText:"获取验证码",time:60});e.onMounted((()=>{d()}));const d=()=>{if(!uni.getStorageSync("token"))return n.value.open("center");l.globalData.utils.request2({url:"/User/index",method:"GET",header:{token:uni.getStorageSync("token")},success:e=>{t("log","at pages/user/index.vue:145","Response:",e),t("log","at pages/user/index.vue:146","Data Type:",typeof e),i.value=e.data.data.mine,r.value=e.data.data.statistic},fail:e=>{uni.showToast({title:e.msg})}})},u=e=>{l.globalData.filt=e,uni.switchTab({url:"../order/index"})},m=e.ref(!1),h=()=>{m.value=!m.value},v=()=>{uni.navigateTo({url:"../clients/index"})};let p=!1;const w=()=>{if(!s.value.phone)return uni.showToast({title:"请输入手机号",duration:1e3,icon:"none"});if(p)return;p=!0;const e=setInterval((()=>{c.value.time<=0?(c.value.validText="获取验证码",c.value.time=60,clearInterval(e),p=!1):(c.value.time-=1,c.value.validText=`剩余${c.value.time}S`)}),1e3);l.globalData.utils.request2({url:"/sms/send",method:"POST",data:{tel:s.value.phone},success:e=>{uni.showToast({title:"验证码发送成功,请尽快验证!",duration:1e3,icon:"none"})},fail:e=>{t("log","at pages/user/index.vue:227","Error Response:",e),e.msg,uni.showToast({title:e.msg,duration:1e3,icon:"none"})}})};t("log","at pages/user/index.vue:237",s.value.phone);const f=()=>{n.value.close()},N=()=>{if(!s.value.phone||!s.value.validCode)return uni.showToast({title:"请检查输入信息",duration:1e3,icon:"none"});l.globalData.utils.request2({url:"/sms/verify",method:"POST",data:{tel:s.value.phone,code:s.value.validCode},success:e=>{uni.setStorageSync("token",e.data.data.token),t("log","at pages/user/index.vue:264","Token 已存储：",e.data.data.token),n.value.close(),d()},fail:e=>{t("error","at pages/user/index.vue:270","请求失败，返回数据：",e),n.value.close(),uni.showToast({title:e.msg,duration:1e3,icon:"none"})}})};return(t,o)=>{const l=a(e.resolveDynamicComponent("share"),E),d=a(e.resolveDynamicComponent("uni-popup"),g);return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"op-cells",style:{"background-color":"#ffffff",padding:"0 0 60rpx 0",overflow:"hidden","text-align":"center"}},[e.createElementVNode("view",{style:{"margin-top":"40rpx"}},[e.createElementVNode("view",{style:{display:"inline-block",width:"150rpx",height:"150rpx","border-radius":"200rpx",overflow:"hidden"}},[i.value.avatar?(e.openBlock(),e.createElementBlock("image",{key:0,src:i.value.avatar,style:{width:"150rpx",height:"150rpx"}},null,8,["src"])):(e.openBlock(),e.createElementBlock("image",{key:1,src:"/static/resource/images/avatar.jpg",style:{width:"150rpx",height:"150rpx"}}))])]),e.createElementVNode("view",{style:{"padding-top":"20rpx"}},[e.createElementVNode("text",{class:"user-nickname"},e.toDisplayString(i.value.nickname?i.value.nickname:"用户"+i.value._id),1)])]),e.createElementVNode("view",{class:"weui-cells op-cells",style:{"margin-top":"20rpx"}},[e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__bd"},"我的订单"),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("text",{onClick:o[0]||(o[0]=e=>u("")),style:{"font-size":"26rpx"}},"全部")])]),e.createElementVNode("view",{class:"weui-cell",style:{padding:"0"}},[e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",{class:"data-cell","hover-class":"weui-cell_active",onClick:o[1]||(o[1]=e=>u(1))},[e.createElementVNode("view",{class:"data-icon"},[e.createElementVNode("image",{src:"/static/resource/images/od_10.png",mode:"widthFix"})]),e.createElementVNode("view",{class:"data-txt"},"待支付"),r.value.topays>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"data-cell-hint data-cell-hint-red"},e.toDisplayString(r.value.topays),1)):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",{class:"data-cell","hover-class":"weui-cell_active",onClick:o[2]||(o[2]=e=>u(2))},[e.createElementVNode("view",{class:"data-icon"},[e.createElementVNode("image",{src:"/static/resource/images/od_20.png",mode:"widthFix"})]),e.createElementVNode("view",{class:"data-txt"},"待服务"),r.value.todos>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"data-cell-hint data-cell-hint-red"},e.toDisplayString(r.value.todos),1)):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",{class:"data-cell","hover-class":"weui-cell_active",onClick:o[3]||(o[3]=e=>u(3))},[e.createElementVNode("view",{class:"data-icon"},[e.createElementVNode("image",{src:"/static/resource/images/od_30.png",mode:"widthFix"})]),e.createElementVNode("view",{class:"data-txt"},"已完成")])]),e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",{class:"data-cell","hover-class":"weui-cell_active",onClick:o[4]||(o[4]=e=>u(4))},[e.createElementVNode("view",{class:"data-icon"},[e.createElementVNode("image",{src:"/static/resource/images/od_40.png",mode:"widthFix"})]),e.createElementVNode("view",{class:"data-txt"},"已取消")])])])]),e.createElementVNode("view",{class:"weui-cells op-cells",style:{"margin-top":"20rpx"}},[e.createElementVNode("view",{class:"weui-cell weui-cell_access","hover-class":"weui-cell_active",onClick:v},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("image",{src:"/static/resource/images/ic_clients.png",style:{display:"block","margin-right":"20rpx",width:"20px",height:"20px"}})]),e.createElementVNode("view",{class:"weui-cell__bd"},"服务对象管理"),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"})]),e.createElementVNode("view",{class:"weui-cell weui-cell_access","hover-class":"weui-cell_active",onClick:h},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("image",{src:"/static/resource/images/ic_share.png",style:{display:"block","margin-right":"20rpx",width:"20px",height:"20px"}})]),e.createElementVNode("view",{class:"weui-cell__bd"},"分享转发"),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"})])]),e.createVNode(l,{shareModal:m.value},null,8,["shareModal"]),e.createVNode(d,{ref_key:"popup",ref:n,type:"center","is-mask-click":!1,"background-color":"#fff"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-content"},[e.createElementVNode("view",{class:"group"},[e.withDirectives(e.createElementVNode("input",{class:"uni-input",type:"tel","onUpdate:modelValue":o[5]||(o[5]=e=>s.value.phone=e),placeholder:"手机号"},null,512),[[e.vModelText,s.value.phone]])]),e.createElementVNode("view",{class:"group"},[e.withDirectives(e.createElementVNode("input",{class:"uni-input","onUpdate:modelValue":o[6]||(o[6]=e=>s.value.validCode=e),placeholder:"请输入验证码"},null,512),[[e.vModelText,s.value.validCode]]),e.createElementVNode("text",{class:"valid-text",onClick:w},e.toDisplayString(c.value.validText),1)])]),e.createElementVNode("view",{class:"btns"},[e.createElementVNode("view",{class:"cancal",onClick:f},"取消"),e.createElementVNode("view",{class:"ok",onClick:N},"确定")])])),_:1},512)])}}};const y=l({},[["render",function(t,o){const l=a(e.resolveDynamicComponent("NavBar"),i);return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(l)])}]]),_={__name:"index",setup(l){const i=getApp(),r=e.ref({}),n=e.ref({}),s=e.ref(!1);o((e=>{c(e.hid)}));const c=e=>{i.globalData.utils.request2({url:"/Hospital/index",method:"GET",data:{hid:e},success:e=>{r.value=e.data.data.hospital,n.value=e.data.data.services},fail:e=>{t("log","at pages/hospital/index.vue:118",e)}})},d=()=>{s.value=!s.value};return(t,o)=>{const l=e.resolveComponent("navbar"),i=a(e.resolveDynamicComponent("share"),E);return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(l,{"title-text":"",isHeight:!1,isWhite:!0,background:"none"}),e.createElementVNode("view",{style:{position:"relative"}},[e.createElementVNode("image",{src:r.value.avatar_url,mode:"aspectFill",style:{filter:"blur(50rpx) brightness(0.8)",display:"block",width:"100%",height:"550rpx",overflow:"hidden"}},null,8,["src"]),e.createElementVNode("view",{style:"position:absolute;top:0rpx;padding-top:65rpx;overflow:hidden;width:100%;"},[e.createElementVNode("view",{class:"hospital-hd"},[e.createElementVNode("view",{class:"weui-cell weui-cell_access","hover-class":"weui-cell_active",onClick:d},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("image",{src:r.value.avatar_url,mode:"aspectFill",style:{position:"absolute",top:"-65rpx",display:"block",width:"150rpx",height:"135rpx","border-radius":"10rpx",overflow:"hidden"}},null,8,["src"])]),e.createElementVNode("view",{class:"weui-cell__bd",style:{"padding-left":"170rpx"}},[e.createElementVNode("view",{style:{position:"absolute",top:"-65rpx"}},[e.createElementVNode("text",{style:{"font-size":"36rpx",color:"#ffffff","font-weight":"bold"}},e.toDisplayString(r.value.name),1)]),e.createElementVNode("view",null,[e.createElementVNode("text",{class:"hosp-rank"},e.toDisplayString(r.value.rank),1),e.createElementVNode("text",{class:"hosp-label"},e.toDisplayString(r.value.label),1)])]),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"},[e.createElementVNode("text",{class:"f4"},"转发")])]),e.createElementVNode("view",{class:"weui-cell weui-cell_access","hover-class":"weui-cell_active"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("image",{src:"/static/resource/images/ic_address.png",mode:"aspectFill",style:{"margin-right":"10rpx",display:"block",width:"40rpx",height:"40rpx"}})]),e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",null,[e.createElementVNode("text",{style:{"font-size":"24rpx"}},e.toDisplayString(r.value.city)+e.toDisplayString(r.value.district)+e.toDisplayString(r.value.address),1)])]),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"},[e.createElementVNode("text",{class:"f4"},"导航")])])]),e.createElementVNode("view",{class:"hospital-bd"},[e.createElementVNode("view",{class:"weui-cells serv-list"},[e.createElementVNode("view",{class:"weui-cell serv-item"},[e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",{style:{"padding-top":"10rpx"}},[e.createElementVNode("text",{class:"serv-name"},"在线预约您需要的服务")])]),e.createElementVNode("view",{class:"weui-cell__ft"})]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"weui-cell serv-item",onClick:e=>{return a=t.id,void uni.navigateTo({url:"../service/index?hid="+r.value.id+"&svid="+a});var a},key:a},[1==t.use_switch?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("image",{class:"serv-logo",src:t.logo_image?t.logo_image_url:"../../resource/images/avatar.jpg",mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"serv-name"},e.toDisplayString(t.name),1)]),e.createElementVNode("view",{class:"serv-line serv-intro"},e.toDisplayString(t.intro),1),e.createElementVNode("view",{class:"serv-line"},[e.createElementVNode("text",{class:"serv-price"},e.toDisplayString(t.price),1),e.createElementVNode("text",{class:"serv-unit"},"元/次")])]),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("button",{class:"btn1m"},"预约")])],64)):e.createCommentVNode("",!0)],8,["onClick"])))),128))])])])]),e.createVNode(i,{shareModal:s.value},null,8,["shareModal"])])}}},V=l({__name:"dtPicker",props:{timestamp:{type:Number,default:0},emptyText:{type:String,default:""},placeholder:{type:String,default:""}},emits:["dtPickerChanged"],setup(a,{emit:o}){const l=a,i=o,r=(new Date).getTime(),n=e.ref([]);let s=null,c="",d=null,u=null;const m=e.ref([0,0,0]),h=e.ref();e.onBeforeMount((()=>{const e=[""],t=[l.emptyText];for(let a=0;a<20;a++){e.push(p(r+864e5*a,"YYYY-MM-dd"));let o=p(r+864e5*a,"M月d日");0==a&&(o+=" （今天）"),1==a&&(o+=" （明天）"),2==a&&(o+=" （后天）"),t.push(o);const l=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],i=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],m=[];m[0]=t,m[1]=l,m[2]=i,n.value=m,s=e,c=t,d=l,u=i}}));const g=()=>{h.value=w();var e=s[m.value[0]],t=d[m.value[1]],a=u[m.value[2]],o="";e&&(o=e+" "+t+":"+a);var l=0;o&&(l=new Date(o.replace(/-/g,"/")).getTime()),i("dtPickerChanged",{detail:{value:l}})},v=e=>{var t=m.value;t[e.detail.column]=e.detail.value,m.value=t},p=(e,t)=>{const a=new Date;return a.setTime(e),a.VP_FORMAT(t)},w=()=>{var e=c[m.value[0]],t=d[m.value[1]],a=u[m.value[2]];return""==s[m.value[0]]?e:e+" "+t+":"+a};return t("log","at components/dtPicker/dtPicker.vue:215",l,"props"),e.watch(l.timestamp,(t=>{(t=>{if(s){if(t>0)var a=s,o=d,l=u;t<r&&(t=r);for(var i=p(t,"YYYY-MM-dd"),n=p(t,"hh"),c=p(t,"mm"),g=e.toRaw(m.value),v=0;v<a.length;v++)if(i==a[v]){g[0]=v;break}for(v=0;v<o.length;v++)if(n==o[v]){g[1]=v;break}for(v=0;v<l.length;v++)if(c==l[v]){g[2]=v;break}m.value=g,h.value=w()}})(t)}),{immediate:!0}),(t,o)=>(e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("picker",{mode:"multiSelector",onChange:g,onColumnchange:v,value:m.value,range:n.value},[e.createElementVNode("input",{disabled:!0,"placeholder-style":"color:#bbbbbb",placeholder:a.placeholder,value:h.value},null,8,["placeholder","value"])],40,["value","range"])]))}},[["__scopeId","data-v-fe773b83"]]),k="/static/resource/images/od_bg_icon.png",b={__name:"index",setup(l){const i=getApp(),n=e.ref({}),s=e.ref(0),c=e.ref([]),d=e.reactive({page_xy:"",page_fw:""}),u=e.ref(!1),m=e.reactive({price:"",starttime:0,tel:"",demand:"",address:{userName:"",cityName:"",countyName:"",detailInfo:""},receiveAddress:""}),h=e.ref(""),v=e.ref({name:"",age:"",mobile:"",sex:""}),p=e.ref(null),f=e.ref({validCode:"",phone:""}),E=e.ref({validText:"获取验证码",time:60}),N=e.ref(null);o((e=>{y(e)}));const y=a=>{const{svid:o,hid:l}=a;i.globalData.utils.request({url:"/Service/order",data:{svid:o},success:o=>{if(n.value=o.data.data.service,t("log","at pages/service/index.vue:330",n.value.stype,"service.value"),c.value=o.data.data.hospitals,a.hid>0){const t=e.toRaw(c.value);for(let e=0;e<t.length;e++){let o=t[e];if(o.id==a.hid){s.value=e,m.price=o.service_price??"";break}}}}})},_=()=>{},b=e=>{const t=parseInt(e.detail.value);s.value=t,m.price=c.value[t].service_price??""},C=e=>{m.starttime=e.detail.value},x=()=>{uni.navigateTo({url:"/pages/clients/index?act=select"})},B=()=>{uni.chooseAddress({success:e=>{const{cityName:a,countyName:o,detailInfo:l,userName:i}=e;h.value=e?i+"("+a+o+l+")":"",m.address.userName=i,m.address.cityName=a,m.address.countyName=o,m.address.detailInfo=l,t("log","at pages/service/index.vue:392",e,"res")},fail:e=>{t("log","at pages/service/index.vue:395",e,"err")}})},S=()=>{u.value=!u.value};let D;const T=()=>{if(!u.value)return uni.showToast({title:"请您阅读并同意<用户协议>和服务协议",duration:1e3,icon:""});const a=e.toRaw(n.value);D=e.toRaw(m);const o=e.toRaw(v.value),l=e.toRaw(c.value);if(a){if(a.stype<100){if(0==s.value)return uni.showToast({title:"请选择医院",duration:1e3,icon:""});D.hospital_id=l[s.value].id,D.hospital_name=l[s.value].name}if("10"==a.stype||"15"==a.stype||"20"==a.stype){if(0==D.starttime)return uni.showToast({title:"请选择就诊时间",duration:1e3,icon:""});if(""==o.name)return uni.showToast({title:"请选择就诊人",duration:1e3,icon:""});if("15"==a.stype&&!D.receiveAddress)return uni.showToast({title:"请填写接送地址",duration:1e3,icon:""});D.client=o}if("30"==a.stype||"40"==a.stype){if(0==D.starttime)return uni.showToast({title:"请选择服务时间",duration:1e3,icon:""});if(!D.address.userName)return uni.showToast({title:"请选择收件信息",duration:1e3,icon:""})}}if(!m.tel)return uni.showToast({title:"请填写联系电话",duration:1e3,icon:""});D.service_code=a.code,D.service_id=a.id,D.service_name=a.name,D.service_stype=a.stype,t("log","at pages/service/index.vue:507",D,"提交订单的数据"),uni.getStorageSync("token")?L(D):p.value.open("center")};let I=!1;const P=()=>{if(!f.value.phone)return uni.showToast({title:"请输入手机号",duration:1e3,icon:"none"});if(I)return;I=!0;const e=setInterval((()=>{E.value.time<=0?(E.value.validText="获取验证码",E.value.time=60,clearInterval(e),I=!1):(E.value.time-=1,E.value.validText=`剩余${E.value.time}S`)}),1e3);i.globalData.utils.request({url:"/get/code",method:"POST",data:{tel:f.value.phone},success:e=>{uni.showToast({title:"验证码发送成功,请尽快验证!",duration:1e3,icon:"none"})},fail:e=>{uni.showToast({title:e.msg,duration:1e3,icon:"none"})}})},A=()=>{p.value.close()},M=()=>{if(!f.value.phone||!f.value.validCode)return uni.showToast({title:"请检查输入信息",duration:1e3,icon:"none"});i.globalData.utils.request({url:"/user/authentication",method:"POST",data:{tel:f.value.phone,code:f.value.validCode},success:e=>{uni.setStorageSync("token",e.data.data.token),p.value.close(),L(D)},fail:e=>{p.value.close(),uni.showToast({title:e.msg,duration:1e3,icon:"none"})}})},L=e=>{N.value.open("center"),i.globalData.utils.request({url:"/pay/createOrder",method:"POST",header:{token:uni.getStorageSync("token")},data:e,success:e=>{F(e.data.wx_code)},fail:e=>{t("log","at pages/service/index.vue:631",e)}})},z=()=>{N.value.close(),uni.switchTab({url:"../order/index"})},F=e=>{var t=new w;t.data=e,t.size=200,t.make();var a=uni.createCanvasContext("qrcode");t.canvasContext=a,t.drawCanvas()};return uni.$on("clientData",(e=>{const{age:t,mobile:a,sex:o,name:l}=e;v.value.name=l,v.value.mobile=a,v.value.sex=o,v.value.age=t})),(t,o)=>{const l=a(e.resolveDynamicComponent("dtPicker"),V),i=a(e.resolveDynamicComponent("uni-popup"),g);return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"od-banner"},[e.createElementVNode("image",{class:"od-banner-icon",src:k,mode:"widthFix"}),e.createElementVNode("view",{class:"od-jd od-jd-0"},[e.createElementVNode("view",{class:"od-jd-out"},[e.createElementVNode("view",{class:"od-jd-in"})]),e.createElementVNode("view",{class:"vp-flex od-jd-text"},[e.createElementVNode("view",{class:"vp-flex_1"},[e.createElementVNode("text",{class:"od-jd-st-0"},"填写订单")]),e.createElementVNode("view",{class:"vp-flex_1"},[e.createElementVNode("text",{class:"od-jd-st-10"},"在线支付")]),e.createElementVNode("view",{class:"vp-flex_1"},[e.createElementVNode("text",{class:"od-jd-st-20"},"专人服务")]),e.createElementVNode("view",{class:"vp-flex_1"},[e.createElementVNode("text",{class:"od-jd-st-30"},"服务完成")])])])]),e.createElementVNode("view",{class:"pub-box"},[e.createElementVNode("view",{class:"pub-box-bd"},[e.createElementVNode("view",{class:"weui-cell weui-cell_input"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("image",{class:"serv-icon",src:n.value.icon_image?n.value.icon_image_url:"../../static/resource/images/avatar.jpg",mode:"widthFix"},null,8,["src"])]),e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("text",{class:"serv-name"},e.toDisplayString(n.value.name),1)]),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",{class:"f5 ic_info",onClick:_},"服务内容")])])])]),c.value.length>0&&"10"==n.value.stype||"15"==n.value.stype||"20"==n.value.stype?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"pub-box"},[e.createElementVNode("view",{class:"pub-box-bd"},[e.createElementVNode("view",{class:"weui-cell weui-cell_input"},[e.createElementVNode("view",{class:"weui-cell__hd",style:{display:"flex",width:"100%"}},[e.createElementVNode("view",{class:"weui-label"}," 就诊医院 "),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"},[e.createElementVNode("view",null,[e.createElementVNode("picker",{onChange:b,value:s.value,range:c.value,"range-key":"name"},[e.createElementVNode("input",{type:"text",disabled:!0,placeholder:"请选择要就诊的医院",value:c.value[s.value].name,"placeholder-class":"vp-placeholder"},null,8,["value"])],40,["value","range"])])])])]),e.createElementVNode("view",{class:"weui-cell weui-cell_input"},[e.createElementVNode("view",{class:"weui-cell__hd",style:{display:"flex",width:"100%"}},[e.createElementVNode("view",{class:"weui-label"}," 就诊时间 "),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"},[e.createElementVNode("view",null,[e.createVNode(l,{onDtPickerChanged:C,timestamp:m.starttime,placeholder:"请选择就诊时间"},null,8,["timestamp"])])])])]),e.createElementVNode("view",{class:"weui-cell weui-cell_input",onClick:x},[e.createElementVNode("view",{class:"weui-cell__hd",style:{display:"flex",width:"100%"}},[e.createElementVNode("view",{class:"weui-label"}," 就诊人 "),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"},[e.createElementVNode("view",null,[e.createElementVNode("input",{type:"text",class:"weui-input",value:v.value.name,placeholder:"请选择就诊人","placeholder-class":"vp-placeholder",disabled:!0,style:{"text-align":"right"}},null,8,["value"])])])])]),15==n.value.stype?(e.openBlock(),e.createElementBlock("view",{key:0,class:"weui-cell weui-cell_input"},[e.createElementVNode("view",{class:"weui-cell__hd"},"接送地址"),e.createElementVNode("view",{class:"weui-cell__bd"},[e.withDirectives(e.createElementVNode("input",{class:"weui-input",name:"receiveAddress",style:{"text-align":"right"},"placeholder-class":"vp-placeholder",placeholder:"请填写就诊人所在地址","onUpdate:modelValue":o[0]||(o[0]=e=>m.receiveAddress=e)},null,512),[[e.vModelText,m.receiveAddress]])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"weui-cell weui-cell_input"},[e.createElementVNode("view",{class:"weui-cell__hd"},"联系电话"),e.createElementVNode("view",{class:"weui-cell__bd"},[e.withDirectives(e.createElementVNode("input",{class:"weui-input",type:"number",name:"tel",style:{"text-align":"right"},"placeholder-class":"vp-placeholder",placeholder:"请填写您的联系电话","onUpdate:modelValue":o[1]||(o[1]=e=>m.tel=e)},null,512),[[e.vModelText,m.tel]])])])])]),e.createElementVNode("view",{class:"pub-box"},[e.createElementVNode("view",{class:"pub-box-tt"},"服务需求"),e.createElementVNode("view",{class:"pub-box-bd"},[e.createElementVNode("view",{class:"weui-cell weui-cell_input"},[e.createElementVNode("view",{class:"weui-cell__bd"},[e.withDirectives(e.createElementVNode("textarea",{name:"demand","auto-height":"",placeholder:"请简单描述您要就诊的科室..","placeholder-class":"vp-placeholder",style:{"min-height":"150rpx"},"onUpdate:modelValue":o[2]||(o[2]=e=>m.demand=e)},null,512),[[e.vModelText,m.demand]])])])])])],64)):e.createCommentVNode("",!0),c.value.length>0&&"30"==n.value.stype||"40"==n.value.stype?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"pub-box"},[e.createElementVNode("view",{class:"pub-box-bd"},[e.createElementVNode("view",{class:"weui-cell weui-cell_input"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"所在医院")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"},[e.createElementVNode("view",null,[e.createElementVNode("picker",{onChange:b,value:s.value,range:c.value,"range-key":"name"},[e.createElementVNode("input",{type:"text",disabled:!0,placeholder:"请选择就诊所在医院",value:c.value[s.value].name,"placeholder-class":"vp-placeholder"},null,8,["value"])],40,["value","range"])])])]),e.createElementVNode("view",{class:"weui-cell weui-cell_input"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"服务时间")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"},[e.createElementVNode("view",null,[e.createVNode(l,{onDtPickerChanged:C,timestamp:m.starttime,placeholder:"请选择期望服务时间"},null,8,["timestamp"])])])]),e.createElementVNode("view",{class:"weui-cell weui-cell_input",onClick:B},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"收件信息")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"},[e.createElementVNode("input",{class:"weui-input",disabled:!0,style:{"text-align":"right"},"placeholder-class":"vp-placeholder",placeholder:"请选择收件信息",value:h.value},null,8,["value"])])]),e.createElementVNode("view",{class:"weui-cell weui-cell_input"},[e.createElementVNode("view",{class:"weui-cell__hd"},"联系电话"),e.createElementVNode("view",{class:"weui-cell__bd"},[e.withDirectives(e.createElementVNode("input",{class:"weui-input",type:"number",name:"tel",style:{"text-align":"right"},"placeholder-class":"vp-placeholder",placeholder:"请填写您的联系电话","onUpdate:modelValue":o[3]||(o[3]=e=>m.tel=e)},null,512),[[e.vModelText,m.tel]])])])])]),e.createElementVNode("view",{class:"pub-box"},[e.createElementVNode("view",{class:"pub-box-tt"},"服务需求"),e.createElementVNode("view",{class:"pub-box-bd"},[e.createElementVNode("view",{class:"weui-cell weui-cell_input"},[e.createElementVNode("view",{class:"weui-cell__bd"},[e.withDirectives(e.createElementVNode("textarea",{name:"demand","auto-height":"",placeholder:"请简单描述您要就诊的科室..","placeholder-class":"vp-placeholder",style:{"min-height":"150rpx"},"onUpdate:modelValue":o[4]||(o[4]=e=>m.demand=e)},null,512),[[e.vModelText,m.demand]])])])])])],64)):e.createCommentVNode("",!0),e.createElementVNode("view",{style:{height:"300rpx"}}),e.createElementVNode("view",{class:"vp-foot"},[e.createElementVNode("view",{style:{background:"#ffffff",padding:"20rpx"}},[e.createElementVNode("view",{class:"xieyi",style:{"text-align":"center"}},[e.createElementVNode("text",{class:e.normalizeClass("is_xieyi "+(u.value?"is_xieyi_on":"")),onClick:S},"我已阅读并同意",2),e.createElementVNode("navigator",{url:d.page_xy},"《用户协议》",8,["url"]),e.createElementVNode("text",null,"和"),e.createElementVNode("navigator",{url:d.page_fw},"《服务协议》",8,["url"])]),e.createElementVNode("view",null,[e.createElementVNode("button",{class:e.normalizeClass("btnp "+(u.value?"":"btnp-disabled")),onClick:T},[e.createTextVNode(" 确认下单 "),m.price>0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode("（支付"+e.toDisplayString(m.price)+"元）",1)],64)):e.createCommentVNode("",!0)],2)])])]),e.createVNode(i,{ref_key:"popup",ref:p,type:"center","is-mask-click":!1,"background-color":"#fff"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-content"},[e.createElementVNode("view",{class:"group"},[e.withDirectives(e.createElementVNode("input",{class:"uni-input",type:"tel","onUpdate:modelValue":o[5]||(o[5]=e=>f.value.phone=e),placeholder:"手机号"},null,512),[[e.vModelText,f.value.phone]])]),e.createElementVNode("view",{class:"group"},[e.withDirectives(e.createElementVNode("input",{class:"uni-input","onUpdate:modelValue":o[6]||(o[6]=e=>f.value.validCode=e),placeholder:"请输入验证码"},null,512),[[e.vModelText,f.value.validCode]]),e.createElementVNode("text",{class:"valid-text",onClick:P},e.toDisplayString(E.value.validText),1)])]),e.createElementVNode("view",{class:"btns"},[e.createElementVNode("view",{class:"cancal",onClick:A},"取消"),e.createElementVNode("view",{class:"ok",onClick:M},"确定")])])),_:1},512),e.createVNode(i,{ref_key:"QRCodePopup",ref:N,type:"center","is-mask-click":!1,"background-color":"#fff"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"pay-box"},[e.createElementVNode("image",{src:r,style:{display:"block",width:"30rpx",height:"30rpx"},onClick:z}),e.createElementVNode("view",{class:"text-center"},"微信扫一扫"),e.createElementVNode("canvas",{id:"qrcode","canvas-id":"qrcode",style:{width:"400rpx",height:"400rpx"}}),e.createElementVNode("view",{class:"text-center"},"请用本人微信扫描以上二维码")])])),_:1},512)])}}},C={__name:"index",setup(t){const a=getApp(),l=e.ref([]),i=e.ref("");o((e=>{i.value=e.act,"select"==e.act?uni.setNavigationBarTitle({title:"请选择服务对象"}):uni.setNavigationBarTitle({title:"服务对象管理"}),a.globalData.utils.request({url:"/User/clients",success:e=>{l.value=e.data.data.clients}})}));const r=e=>{};return(t,a)=>(e.openBlock(),e.createElementBlock("view",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"cell-box",key:a},[e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",null,[e.createElementVNode("text",{style:{"font-weight":"bold"}},e.toDisplayString(t.name),1)]),e.createElementVNode("view",null,[e.createElementVNode("text",{class:e.normalizeClass("sext"+t.sex)},e.toDisplayString(1==t.sex?"男":"女"),3),e.createElementVNode("text",{style:{"margin-left":"10rpx"}},e.toDisplayString(t.age)+"周岁",1),e.createElementVNode("text",{style:{"margin-left":"10rpx"}},e.toDisplayString(t.mobile),1)])]),e.createElementVNode("view",{class:"weui-cell__ft"},["select"==i.value?(e.openBlock(),e.createElementBlock("text",{key:0,onClick:e=>(e=>{uni.$emit("clientData",e),uni.navigateBack()})(t),style:{display:"inline-block",padding:"15rpx 30rpx",border:"1rpx solid #0bb584",color:"#0bb584","font-weight":"bold","border-radius":"10rpx","font-size":"28rpx",overflow:"hidden"}}," 选择 ",8,["onClick"])):(e.openBlock(),e.createElementBlock("text",{key:1,onClick:r,"data-id":t.id,style:{display:"inline-block",padding:"15rpx 30rpx",border:"1rpx solid #eeeeee",color:"#f13e6d","border-radius":"10rpx","font-size":"28rpx",overflow:"hidden"}}," 移除 ",8,["data-id"]))])])])))),128))]))}},x={__name:"index",setup(l){const i=getApp(),n=e.ref({}),d=e.ref(null),u=e.computed((()=>({"待支付":"10","待服务":"20","已完成":"30","已取消":"40"}[n.value.trade_state])));o((e=>{m(e.oid)}));const m=e=>{i.globalData.utils.request({url:"/order/detail",method:"GET",header:{token:uni.getStorageSync("token")},data:{oid:e},success:e=>{n.value=e.data.data,t("log","at pages/order/orderDetail/index.vue:409",n.value,"res")},fail:e=>{uni.showToast({title:e.msg,duration:1e3,icon:"none"})}})},h=()=>{m()},v=e=>{d.value.open("center"),(e=>{var t=new w;t.data=e,t.size=200,t.make();var a=uni.createCanvasContext("qrcode");t.canvasContext=a,t.drawCanvas()})(e)},p=()=>{d.value.close(),uni.switchTab({url:"../../order/index"})};return(t,o)=>{const l=a(e.resolveDynamicComponent("counter"),c),i=a(e.resolveDynamicComponent("formater"),s),m=a(e.resolveDynamicComponent("uni-popup"),g);return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"od-banner"},[e.createElementVNode("image",{class:"od-banner-icon",src:k,mode:"widthFix"}),e.createElementVNode("view",{class:e.normalizeClass("od-jd od-jd-"+u.value)},[e.createElementVNode("view",{class:"od-jd-out"},[e.createElementVNode("view",{class:"od-jd-in"})]),e.createElementVNode("view",{class:"vp-flex od-jd-text"},[e.createElementVNode("view",{class:"vp-flex_1"},[e.createElementVNode("text",{class:"od-jd-st-0"},"填写订单")]),e.createElementVNode("view",{class:"vp-flex_1"},[e.createElementVNode("text",{class:"od-jd-st-10"},"在线支付")]),e.createElementVNode("view",{class:"vp-flex_1"},[e.createElementVNode("text",{class:"od-jd-st-20"},"专人服务")]),e.createElementVNode("view",{class:"vp-flex_1"},[e.createElementVNode("text",{class:"od-jd-st-30"},"服务完成")])])],2)]),e.createElementVNode("view",{class:"order-status"},[10==u.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"od-st"},"订单待支付")]),e.createElementVNode("view",{class:"od-stt"},[e.createTextVNode(" 请在 "),e.createVNode(l,{style:{"font-size":"24rpx"},second:n.value._exp_time,onCounterOver:h},null,8,["second"]),e.createTextVNode(" 内完成支付，超时订单自动取消 ")]),e.createElementVNode("view",{class:"od-op"},[e.createElementVNode("button",{class:"btnp",onClick:o[0]||(o[0]=e=>v(n.value.code_url))},"立即支付（"+e.toDisplayString(n.value.price)+"元）",1)])],64)):e.createCommentVNode("",!0),20==u.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[0==n.value.service_state?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"od-st"},"正在为您安排服务专员...")]),e.createElementVNode("view",{class:"od-stt"},"请保持手机畅通，稍后将有服务专员与您联系")],64)):e.createCommentVNode("",!0),1==n.value.service_state?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"od-st"},"服务进行中")]),e.createElementVNode("view",{class:"od-stt"},"已安排服务专员，将于预约时间进行服务")],64)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),30==u.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"od-st"},"服务已完成")]),e.createElementVNode("view",{class:"od-stt"},"感谢您的使用，如有售后问题请联系客服")],64)):e.createCommentVNode("",!0),40==u.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"od-st"},"订单已取消")]),e.createElementVNode("view",{class:"od-stt"},"期待下次为您服务，如需帮助可咨询客服")],64)):e.createCommentVNode("",!0)]),20==u.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"od-box"},[e.createElementVNode("view",{class:"weui-cells"},[e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label od-box-tt"},"本次服务专员")]),e.createElementVNode("view",{class:"weui-cell__bd"})]),e.createElementVNode("view",{class:"weui-cell od-staff"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:n.value._staff.avatar_url,mode:"aspectFill",class:"od-staff-avatar"},null,8,["src"])])]),e.createElementVNode("view",{class:"weui-cell__bd"},[e.createElementVNode("view",null,e.toDisplayString(n.value._staff.nickname),1)]),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,[e.createElementVNode("button",{class:"btn1m",onClick:o[1]||(o[1]=e=>{return t=n.value._staff.mobile,void uni.makePhoneCall({phoneNumber:t});var t})},"电话联系")])])])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"od-box"},[e.createElementVNode("view",{class:"weui-cells"},[e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label od-box-tt"},"预约信息")]),e.createElementVNode("view",{class:"weui-cell__bd"})]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"预约服务")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.service_name),1)])]),n.value.service_stype<=20?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"就诊医院")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.hospital_name),1)])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"期望就诊时间")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,[e.createVNode(i,{timestamp:n.value.starttime,format:"YYYY-MM-dd hh:mm"},null,8,["timestamp"])])])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"就诊人")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.client_name)+" "+e.toDisplayString(1==n.value.client_sex?"男":"女")+" "+e.toDisplayString(n.value.client_age)+"周岁",1)])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"就诊人电话")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.tel),1)])]),15==n.value.service_stype?(e.openBlock(),e.createElementBlock("view",{key:0,class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"接送地址")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.receiveAddress),1)])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),n.value.service_stype>20&&n.value.service_stype<100?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"所在医院")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.hospital_name),1)])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"期望处理时间")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,[e.createVNode(i,{timestamp:n.value.starttime,format:"YYYY-MM-dd hh:mm"},null,8,["timestamp"])])])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"收件人")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.address.userName)+" "+e.toDisplayString(n.value.address.telNumber),1)])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"收件地址")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.address.cityName)+e.toDisplayString(n.value.address.countyName)+e.toDisplayString(n.value.address.detailInfo),1)])])],64)):e.createCommentVNode("",!0),n.value.service_stype>100?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"期望服务时间")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,[e.createVNode(i,{timestamp:n.value.starttime,format:"YYYY-MM-dd hh:mm"},null,8,["timestamp"])])])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"服务对象")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.client_name)+" "+e.toDisplayString(1==n.value.client_sex?"男":"女")+" "+e.toDisplayString(n.value.client_age)+"周岁",1)])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"服务对象电话")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.client_mobile),1)])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"服务地址")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.address.address),1)])])],64)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"其他需求")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.demand),1)])])])]),e.createElementVNode("view",{class:"od-box"},[e.createElementVNode("view",{class:"weui-cells"},[e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label od-box-tt"},"订单信息")]),e.createElementVNode("view",{class:"weui-cell__bd"})]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"联系电话")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.tel),1)])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"下单时间")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,[e.createVNode(i,{timestamp:n.value.order_start_time,format:"YYYY-MM-dd hh:mm"},null,8,["timestamp"])])])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"应付金额")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.price)+"元",1)])]),20==u.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"实付金额")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,e.toDisplayString(n.value.price)+"元",1)])]),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"付款时间")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",null,[e.createVNode(i,{timestamp:n.value.pay_time,format:"YYYY-MM-dd hh:mm"},null,8,["timestamp"])])])])],64)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"weui-cell"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"订单编号")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft"},[e.createElementVNode("view",{class:"color_click"},e.toDisplayString(n.value.out_trade_no),1)])]),e.createElementVNode("navigator",{class:"weui-cell weui-cell_access",url:"../index/server"},[e.createElementVNode("view",{class:"weui-cell__hd"},[e.createElementVNode("view",{class:"weui-label"},"联系客服")]),e.createElementVNode("view",{class:"weui-cell__bd"}),e.createElementVNode("view",{class:"weui-cell__ft weui-cell__ft_in-access"},"疑问或投诉")])])]),e.createVNode(m,{ref_key:"QRCodePopup",ref:d,type:"center","is-mask-click":!1,"background-color":"#fff"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"pay-box"},[e.createElementVNode("image",{src:r,style:{display:"block",width:"30rpx",height:"30rpx"},onClick:p}),e.createElementVNode("view",{class:"text-center"},"微信扫一扫"),e.createElementVNode("canvas",{id:"qrcode","canvas-id":"qrcode",style:{width:"400rpx",height:"400rpx"}}),e.createElementVNode("view",{class:"text-center"},"请用本人微信扫描以上二维码")])])),_:1},512)])}}};__definePage("pages/index/index",n),__definePage("pages/order/index",f),__definePage("pages/user/index",N),__definePage("pages/search/index",y),__definePage("pages/hospital/index",_),__definePage("pages/service/index",b),__definePage("pages/clients/index",C),__definePage("pages/order/orderDetail/index",x);const B={onLaunch:function(){t("log","at App.vue:6","App Launch")},onShow:function(){t("log","at App.vue:9","App Show")},onHide:function(){t("log","at App.vue:12","App Hide")},globalData:{utils:new class{constructor(){this.baseUrl="https://code.itndedu.com/pz",this.message_baseUrl="http://172.16.67.129:8899"}getUserInfo(){uni.login({success:e=>{this.request({url:"/auth/wxLogin",method:"GET",data:{code:e.code},isShowLoading:!0,success:e=>{t("log","at common/js/utils.js:24",e,"request res")},fail:e=>{t("log","at common/js/utils.js:27",e,"request err")}})}})}request(e={isShowLoading:!1}){if(!e.url)return!1;e.isShowLoading&&this.showLoadingFun(),uni.request({url:this.baseUrl+e.url,method:e.method?e.method:"GET",data:e.data?e.data:{},header:e.header?e.header:{},success:t=>{uni.hideLoading(),1e4!=t.data.code?e.fail&&"function"==typeof e.fail&&e.fail(t):e.success&&"function"==typeof e.success&&e.success(t)},fail:e=>{t("log","at common/js/utils.js:78",e,"err"),uni.hideLoading()}})}request2(e={isShowLoading:!1}){if(!e.url)return!1;e.isShowLoading&&this.showLoadingFun(),uni.request({url:this.message_baseUrl+e.url,method:e.method?e.method:"GET",data:e.data?e.data:{},header:e.header?e.header:{},success:t=>{uni.hideLoading(),1e4!=t.data.code?e.fail&&"function"==typeof e.fail&&e.fail(t):e.success&&"function"==typeof e.success&&e.success(t)},fail:e=>{t("log","at common/js/utils.js:113",e,"err"),uni.hideLoading()}})}request3(e={isShowLoading:!1}){if(!e.url)return!1;e.isShowLoading&&this.showLoadingFun(),uni.request({url:this.message_baseUrl+e.url,method:e.method?e.method:"GET",data:e.data?e.data:{},header:e.header?e.header:{},success:t=>{uni.hideLoading(),1e4!=t.data.code?e.fail&&"function"==typeof e.fail&&e.fail(t):e.success&&"function"==typeof e.success&&e.success(t)},fail:e=>{t("log","at common/js/utils.js:149",e,"err"),uni.hideLoading()}})}showLoadingFun(){uni.getStorageSync("isShowLoading")&&(uni.hideLoading(),uni.setStorageSync("isShowLoading",!1)),uni.showLoading({title:"加载中...",complete:()=>{uni.setStorageSync("isShowLoading",!0)},fail:()=>{uni.setStorageSync("isShowLoading",!1)}})}}}};Date.prototype.VP_FORMAT=function(e){var t=parseInt(this.getTime()/864e5)-parseInt((new Date).getTime()/864e5),a="";0==t&&(a="(今天)"),1==t&&(a="(明天)"),2==t&&(a="(后天)"),-1==t&&(a="(昨天)"),-2==t&&(a="(前天)");var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds(),"n+":a};for(var l in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+l+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[l]:("00"+o[l]).substr((""+o[l]).length)));return e};const{app:S,Vuex:D,Pinia:T}={app:e.createVueApp(B)};uni.Vuex=D,uni.Pinia=T,S.provide("__globalStyles",__uniConfig.styles),S._component.mpType="app",S._component.render=()=>{},S.mount("#app")}(Vue);
